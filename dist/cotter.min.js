/*! For license information please see cotter.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Cotter",[],e):"object"==typeof exports?exports.Cotter=e():t.Cotter=e()}(self,(function(){return(()=>{var t={9669:(t,e,n)=>{t.exports=n(1609)},5448:(t,e,n)=>{"use strict";var r=n(4867),o=n(6026),i=n(4372),s=n(5327),a=n(4097),c=n(4109),u=n(7985),f=n(5061);t.exports=function(t){return new Promise((function(e,n){var l=t.data,h=t.headers;r.isFormData(l)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",y=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+y)}var g=a(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),s(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:t,request:d};o(e,n,i),d=null}},d.onabort=function(){d&&(n(f("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(f("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(f(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=(t.withCredentials||u(g))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;v&&(h[t.xsrfHeaderName]=v)}if("setRequestHeader"in d&&r.forEach(h,(function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),n(t),d=null)})),l||(l=null),d.send(l)}))}},1609:(t,e,n)=>{"use strict";var r=n(4867),o=n(1849),i=n(321),s=n(7185);function a(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var c=a(n(5655));c.Axios=i,c.create=function(t){return a(s(c.defaults,t))},c.Cancel=n(5263),c.CancelToken=n(4972),c.isCancel=n(6502),c.all=function(t){return Promise.all(t)},c.spread=n(8713),c.isAxiosError=n(6268),t.exports=c,t.exports.default=c},5263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:(t,e,n)=>{"use strict";var r=n(5263);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,n)=>{"use strict";var r=n(4867),o=n(5327),i=n(782),s=n(3572),a=n(7185);function c(t){this.defaults=t,this.interceptors={request:new i,response:new i}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},c.prototype.getUri=function(t){return t=a(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(a(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,r){return this.request(a(r||{},{method:t,url:e,data:n}))}})),t.exports=c},782:(t,e,n)=>{"use strict";var r=n(4867);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},4097:(t,e,n)=>{"use strict";var r=n(1793),o=n(7303);t.exports=function(t,e){return t&&!r(e)?o(t,e):e}},5061:(t,e,n)=>{"use strict";var r=n(481);t.exports=function(t,e,n,o,i){var s=new Error(t);return r(s,e,n,o,i)}},3572:(t,e,n)=>{"use strict";var r=n(4867),o=n(8527),i=n(6502),s=n(5655);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return a(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(a(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},7185:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e){e=e||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function u(o){r.isUndefined(e[o])?r.isUndefined(t[o])||(n[o]=c(void 0,t[o])):n[o]=c(t[o],e[o])}r.forEach(o,(function(t){r.isUndefined(e[t])||(n[t]=c(void 0,e[t]))})),r.forEach(i,u),r.forEach(s,(function(o){r.isUndefined(e[o])?r.isUndefined(t[o])||(n[o]=c(void 0,t[o])):n[o]=c(void 0,e[o])})),r.forEach(a,(function(r){r in e?n[r]=c(t[r],e[r]):r in t&&(n[r]=c(void 0,t[r]))}));var f=o.concat(i).concat(s).concat(a),l=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===f.indexOf(t)}));return r.forEach(l,u),n}},6026:(t,e,n)=>{"use strict";var r=n(5061);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},8527:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},5655:(t,e,n)=>{"use strict";var r=n(4867),o=n(6016),i={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(a=n(5448)),a),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){c.headers[t]=r.merge(i)})),t.exports=c},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},5327:(t,e,n)=>{"use strict";var r=n(4867);function o(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(o(e)+"="+o(t))})))})),i=s.join("&")}if(i){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,n)=>{"use strict";var r=n(4867);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},6268:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},7985:(t,e,n)=>{"use strict";var r=n(4867);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},6016:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},4109:(t,e,n)=>{"use strict";var r=n(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,s={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(s[e]&&o.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4867:(t,e,n)=>{"use strict";var r=n(1849),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==o.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===o.call(t)}function f(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:c,isUndefined:s,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function t(){var e={};function n(n,r){c(e[r])&&c(n)?e[r]=t(e[r],n):c(n)?e[r]=t({},n):i(n)?e[r]=n.slice():e[r]=n}for(var r=0,o=arguments.length;r<o;r++)f(arguments[r],n);return e},extend:function(t,e,n){return f(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,i=c(t),s=i[0],a=i[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),f=0,l=a>0?s-4:s;for(n=0;n<l;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[f++]=e>>16&255,u[f++]=e>>8&255,u[f++]=255&e;return 2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[f++]=255&e),1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[f++]=e>>8&255,u[f++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],s=16383,a=0,c=r-o;a<c;a+=s)i.push(u(t,a,a+s>c?c:a+s));return 1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,r){for(var o,i,s=[],a=e;a<r;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:(t,e,n)=>{"use strict";const r=n(9742),o=n(645),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|y(t,e);let r=a(n);const o=r.write(t,e);return o!==n&&(r=r.slice(0,o)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const o=function(t){if(c.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||V(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return f(t),a(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(o)return r?-1:$(t).length;e=(""+e).toLowerCase(),o=!0}}function g(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),V(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,o){let i,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){let r=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(t,i+r)!==u(e,r)){n=!1;break}if(n)return i}return-1}function b(t,e,n,r){n=Number(n)||0;const o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=e.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(V(r))return s;t[n+s]=r}return s}function _(t,e,n,r){return z($(e,t.length-n),t,n,r)}function I(t,e,n,r){return z(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function E(t,e,n,r){return z(q(e),t,n,r)}function A(t,e,n,r){return z(function(t,e){let n,r,o;const i=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);const r=[];let o=e;for(;o<n;){const e=t[o];let i=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(i=e);break;case 2:n=t[o+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(i=c));break;case 3:n=t[o+1],r=t[o+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=t[o+1],r=t[o+2],a=t[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(t){const e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return f(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return l(t)},c.allocUnsafeSlow=function(t){return l(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(J(e,Uint8Array))o+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,o)):Uint8Array.prototype.set.call(r,e,o);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)v(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,o){if(J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(i,s),u=this.slice(r,o),f=t.slice(e,n);for(let t=0;t<a;++t)if(u[t]!==f[t]){i=u[t],s=f[t];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return I(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function R(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function O(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function k(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=e;r<n;++r)o+=X[t[r]];return o}function U(t,e,n){const r=t.slice(e,n);let o="";for(let t=0;t<r.length-1;t+=2)o+=String.fromCharCode(r[t]+256*r[t+1]);return o}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function x(t,e,n,r,o){W(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function B(t,e,n,r,o){W(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n+7]=i,i>>=8,t[n+6]=i,i>>=8,t[n+5]=i,i>>=8,t[n+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function M(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,i){return e=+e,n>>>=0,i||M(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,i){return e=+e,n>>>=0,i||M(t,0,n,8),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);let r=this[t+--e],o=1;for(;e>0&&(o*=256);)r+=this[t+--e]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||D(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||D(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||D(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||D(t,e,this.length);let r=e,o=1,i=this[t+--r];for(;r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return t>>>=0,e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||D(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||D(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||D(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||D(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||D(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||D(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||L(this,t,e,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||L(this,t,e,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Z((function(t,e=0){return x(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,t,e,n,r-1,-r)}let o=0,i=1,s=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,t,e,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Z((function(t,e=0){return x(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const o=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{const i=c.isBuffer(t)?t:c.from(t,r),s=i.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=i[o%s]}return this};const F={};function j(t,e,n){F[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function K(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function W(t,e,n,r,o,i){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,n){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||G(e,t.length-(n+1))}(r,o,i)}function H(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function G(t,e,n){if(Math.floor(t)!==t)throw H(t,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=K(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=K(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r}),RangeError);const Y=/[^+/0-9A-Za-z-_]/g;function $(t,e){let n;e=e||1/0;const r=t.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){let o;for(o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function V(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)e[r+o]=t[n]+t[o]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},4127:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(n(7803));class i extends o.default{constructor(t){super(t)}decodePayload(){return super.decodePayload()}getAuthMethod(){return this.payload.authentication_method}getScope(){return this.payload.scope}getID(){return this.payload.sub}getIdentifier(){return this.payload.identifier}getClientUserID(){return this.payload.client_user_id}}e.default=i},3686:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(9188);e.default=class{constructor(t){this.ID=t.ID,this.CreatedAt=t.CreatedAt,this.UpdatedAt=t.UpdatedAt,this.DeletedAt=t.DeletedAt,this.client_user_id=t.client_user_id,this.issuer=t.issuer,this.event=t.event,this.ip=t.ip,this.location=t.location,this.timestamp=t.timestamp,this.method=t.method,this.new=t.new,this.approved=t.approved,this.signature=t.signature}validate(){var t=`${this.client_user_id}${this.issuer}${this.event}${this.timestamp}${this.method}${this.new}${this.approved}`,e=this.signature;return r.ValidateToken(t,e)}}},9196:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(n(7803));class i extends o.default{constructor(t){super(t)}decodePayload(){return super.decodePayload()}getAuthTime(){return this.payload.auth_time}getIdentifier(){return this.payload.identifier}getID(){return this.payload.sub}getClientUserID(){return this.payload.client_user_id}}e.default=i},4735:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(9188);e.default=class{constructor(t){this.identifier_id=t.identifier_id,this.expire_at=t.expire_at,this.identifier=t.identifier,this.identifier_type=t.identifier_type,this.receiver=t.receiver,this.timestamp=t.timestamp,this.signature=t.signature}validate(){var t=`${this.identifier}${this.identifier_type}${this.receiver}${this.expire_at}`,e=this.signature;return r.ValidateToken(t,e)}}},7803:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(8764);e.default=class{constructor(t){this.token=t,this.payload=this.decodePayload()}decodePayload(){const t=this.token.split(".")[1];try{return JSON.parse(r.Buffer.from(t,"base64").toString("utf8"))}catch(t){return{}}}getExpiration(){return this.payload.exp}getIssuedAt(){return this.payload.iat}getAudience(){return this.payload.aud}}},5638:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CotterEvent=e.CotterIdentity=e.CotterJwtToken=e.CotterIDToken=e.CotterAccessToken=void 0;const o=r(n(4127));e.CotterAccessToken=o.default;const i=r(n(9196));e.CotterIDToken=i.default;const s=r(n(7803));e.CotterJwtToken=s.default;const a=r(n(4735));e.CotterIdentity=a.default;const c=r(n(3686));e.CotterEvent=c.default},9188:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValidateToken=void 0;const r=n(8764),o=n(780);e.ValidateToken=(t,e)=>{const n=new Uint8Array(r.Buffer.from(t,"utf8")),i=new Uint8Array(r.Buffer.from(e,"base64")),s=new Uint8Array(r.Buffer.from("qqOaiQGjGsxBMgI5rdAasaACRiJthOqadmefjY5mS/c=","base64"));return o.sign.detached.verify(n,i,s)}},645:(t,e)=>{e.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,f=-7,l=n?o-1:0,h=n?-1:1,d=t[e+l];for(l+=h,i=d&(1<<-f)-1,d>>=-f,f+=a;f>0;i=256*i+t[e+l],l+=h,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=r;f>0;s=256*s+t[e+l],l+=h,f-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=u}return(d?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var s,a,c,u=8*i-o-1,f=(1<<u)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+l>=1?h/c:h*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*c-1)*Math.pow(2,o),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;t[n+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+d]=255&s,d+=p,s/=256,u-=8);t[n+d-p]|=128*y}},2203:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(9397)),c=s(n(9669)),u=n(8164),f=s(n(3425)),l=function(){function t(t){this.apiKeyID=t}return t.prototype.getTokensFromRefreshToken=function(t){return o(this,void 0,void 0,(function(){var e,n,r;return i(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e={headers:{API_KEY_ID:this.apiKeyID,"Content-type":"application/json"},withCredentials:!0},n="/token/"+this.apiKeyID,r={grant_type:"refresh_token"},t&&(r.refresh_token=t),[4,c.default.post(""+a.default.BackendURL+n,r,e)];case 1:return[2,o.sent().data];case 2:throw o.sent().response.data;case 3:return[2]}}))}))},t.prototype.removeRefreshToken=function(){return o(this,void 0,void 0,(function(){var t,e;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t={headers:{API_KEY_ID:this.apiKeyID,"Content-type":"application/json"},withCredentials:!0},e="/token/"+this.apiKeyID,[4,c.default.delete(""+a.default.BackendURL+e,t)];case 1:return[2,n.sent().data];case 2:throw n.sent().response.data;case 3:return[2]}}))}))},t.prototype.checkCredentialExist=function(t){return o(this,void 0,void 0,(function(){var e,n,r;return i(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e={headers:{API_KEY_ID:this.apiKeyID,"Content-type":"application/json"},withCredentials:!0},[4,c.default.get(a.default.BackendURL+"/webauthn/exists?identifier="+encodeURIComponent(t),e)];case 1:if((n=o.sent()).data&&null!==n.data.exists&&void 0!==n.data.exists)return[2,n.data.exists];throw n;case 2:if((r=o.sent()).response)throw r.response.data;throw r;case 3:return[2]}}))}))},t.prototype.beginWebAuthnRegistration=function(t,e){return o(this,void 0,void 0,(function(){var n,r,o,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n={headers:{API_KEY_ID:this.apiKeyID,"Content-type":"application/json"},withCredentials:!0},r={origin:e},[4,c.default.post(a.default.BackendURL+"/webauthn/register/begin?identifier="+encodeURIComponent(t),r,n)];case 1:if((o=i.sent()).data&&o.data.publicKey)return[2,u.serverToCreationOptions(o.data.publicKey)];throw o;case 2:if((s=i.sent()).response)throw s.response.data;throw s;case 3:return[2]}}))}))},t.prototype.finishWebAuthnRegistration=function(t,e,n){return o(this,void 0,void 0,(function(){var o,s,f;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),o={headers:{API_KEY_ID:this.apiKeyID,"Content-type":"application/json"},withCredentials:!0},s=u.CredentialToServerCredentialCreation(e),s=r(r({},s),{origin:n}),[4,c.default.post(a.default.BackendURL+"/webauthn/register/finish?identifier="+encodeURIComponent(t),s,o)];case 1:return[2,i.sent().data];case 2:if((f=i.sent()).response)throw f.response.data;throw f;case 3:return[2]}}))}))},t.prototype.beginWebAuthnLogin=function(t,e){return o(this,void 0,void 0,(function(){var n,r,o,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n={headers:{API_KEY_ID:this.apiKeyID,"Content-type":"application/json"},withCredentials:!0},r={origin:e},[4,c.default.post(a.default.BackendURL+"/webauthn/login/begin?identifier="+encodeURIComponent(t),r,n)];case 1:if((o=i.sent()).data&&o.data.publicKey)return[2,u.serverToRequestOptions(o.data.publicKey)];throw o;case 2:if((s=i.sent()).response)throw s.response.data;throw s;case 3:return[2]}}))}))},t.prototype.finishWebAuthnLogin=function(t,e,n,s,f){return o(this,void 0,void 0,(function(){var o,l,h;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),o={headers:{API_KEY_ID:this.apiKeyID,"Content-type":"application/json"},withCredentials:!0},l=u.CredentialToServerCredentialRequest(n),l=r(r({},l),{origin:s,public_key:f,identifier_type:e,device_type:"BROWSER",device_name:navigator.userAgent}),[4,c.default.post(a.default.BackendURL+"/webauthn/login/finish?identifier="+encodeURIComponent(t),l,o)];case 1:return[2,i.sent().data];case 2:if((h=i.sent()).response)throw h.response.data;throw h;case 3:return[2]}}))}))},t.prototype.loginAndConnect=function(t,e,n){return o(this,void 0,void 0,(function(){var r,o,s,u;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]),r={headers:{API_KEY_ID:this.apiKeyID,"Content-type":"application/json"},withCredentials:!0},o={token_id:t,user_id:e,identity_provider:n};try{s=sessionStorage.getItem(f.default.OAUTH_SESSION_NAME),o.login_state=JSON.parse(atob(s))}catch(t){}return[4,c.default.post(a.default.BackendURL+"/oauth/token/connect",o,r)];case 1:return[2,i.sent().data];case 2:if((u=i.sent()).response)throw u.response.data;throw u;case 3:return[2]}}))}))},t.prototype.getInfo=function(){return o(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,c.default.get(a.default.BackendURL+"/company/info/"+this.apiKeyID,null)];case 1:return[2,e.sent().data];case 2:if((t=e.sent()).response)throw t.response.data;throw t;case 3:return[2]}}))}))},t}();e.default=l},8661:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(9514)),u=a(n(5275)),f=a(n(6233)),l=a(n(1558)),h=a(n(916)),d=a(n(8998)),p=n(4656),y=a(n(3425)),g=new f.default,v=function(t){function e(e){var n=this;return"string"==typeof e&&(e={ApiKeyID:e,Type:""}),e=e,(n=t.call(this,e,g.withApiKeyID(e.ApiKeyID))||this).signInWithLink=n.constructMagicLink,n.signInWithWebAuthnOrLink=n.constructMagicLinkWithWebAuthn,n.signInWithOTP=n.constructOTPVerify,n.signInWithWebAuthnOrOTP=n.constructOTPVerifyWithWebAuthn,n.tokenHandler=g.withApiKeyID(e.ApiKeyID),n}return o(e,t),e.prototype.withFormID=function(t){return this.config.FormID=t,this},e.prototype.constructMagicLink=function(t){return t&&(this.config.OnBegin=t),this.config.AuthenticationMethod=p.AUTHENTICATION_METHOD.MAGIC_LINK,this.config.AuthenticationMethodName="Magic Link",new u.default(this.config,this.tokenHander)},e.prototype.constructOTPVerify=function(t){return t&&(this.config.OnBegin=t),this.config.AuthenticationMethod=p.AUTHENTICATION_METHOD.OTP,this.config.AuthenticationMethodName="Verification Code",new c.default(this.config,this.tokenHander)},e.isWebAuthnAvailable=function(){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,h.default.available()];case 1:return[2,t.sent()]}}))}))},e.prototype.constructMagicLinkWithWebAuthn=function(t){return t&&(this.config.OnBegin=t),this.config.WebAuthnEnabled=!0,this.config.AuthenticationMethod=p.AUTHENTICATION_METHOD.MAGIC_LINK,this.config.AuthenticationMethodName="Magic Link",new u.default(this.config,this.tokenHander)},e.prototype.constructOTPVerifyWithWebAuthn=function(t){return t&&(this.config.OnBegin=t),this.config.WebAuthnEnabled=!0,this.config.AuthenticationMethod=p.AUTHENTICATION_METHOD.OTP,this.config.AuthenticationMethodName="Verification Code",new c.default(this.config,this.tokenHander)},e.prototype.registerWebAuthn=function(t){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.config.WebAuthnEnabled=!0,this.config.RegisterWebAuthn=!0,[4,h.default.available()];case 1:return e.sent()?[3,3]:[4,new h.default({ApiKeyID:this.config.ApiKeyID,Identifier:t,Type:"REGISTRATION",ErrorDisplay:"The browser or user device doesn't support WebAuthn.",RegisterWebAuthn:!0},this.tokenHander).show()];case 2:return[2,e.sent()];case 3:return[4,new h.default({ApiKeyID:this.config.ApiKeyID,Identifier:t,Type:"REGISTRATION",RegisterWebAuthn:!0},this.tokenHander).show()];case 4:return[2,e.sent()]}}))}))},e.prototype.logOut=function(){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.tokenHandler.removeTokens()];case 1:return t.sent(),d.default.remove(),[3,3];case 2:throw t.sent();case 3:return[2]}}))}))},e.prototype.getLoggedInUser=function(){return l.default.getLoggedInUser()},e.prototype.connectSocialLogin=function(t,e,n){var r,o=y.default.getConnectURL(t,this.config.ApiKeyID,e,n||(null===(r=null===window||void 0===window?void 0:window.location)||void 0===r?void 0:r.href));window&&(window.location.href=o)},e}(c.default);e.default=v},9514:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(9397)),a=n(4656),c=n(3949),u=i(n(8998)),f=i(n(916)),l=i(n(2203)),h=i(n(3425)),d="cotter-form-container",p=function(){function t(e,n){var r=this;this.config=e,this.config.CotterBaseURL&&(s.default.JSURL=this.config.CotterBaseURL),this.config.AdditionalFields||(this.config.AdditionalFields=[]),this.config.Domain=new URL(window.location.href).origin,this.config.CotterBackendURL||(this.config.CotterBackendURL=s.default.BackendURL),this.tokenHander=n;var o=Math.random().toString(36).substring(2,15);try{this.state=localStorage.getItem("COTTER_STATE"),localStorage.getItem("COTTER_STATE")||(this.state=o,localStorage.setItem("COTTER_STATE",this.state))}catch(t){this.state=o}this.verifier=c.generateVerifier(),c.challengeFromVerifier(this.verifier).then((function(t){r.challenge=t})),this.loaded=!1,this.cotterIframeID=Math.random().toString(36).substring(2,15)+"cotter-signup-iframe",this.cID=Math.random().toString(36).substring(2,15)+(this.config.ContainerID||d),this.config.RegisterWebAuthn&&(this.RegisterWebAuthn=!0),window.addEventListener("message",(function(e){var n;try{var o=JSON.parse(e.data)}catch(e){return}if(e.origin===s.default.JSURL){var i=r.cID;switch(o.callbackName){case i+"FIRST_LOAD":var a={action:"CONFIG",payload:{additionalFields:r.config.AdditionalFields,identifierField:r.config.IdentifierField,buttonText:r.config.ButtonText,buttonBackgroundColor:r.config.ButtonBackgroundColor,buttonTextColor:r.config.ButtonTextColor,errorColor:r.config.ErrorColor,buttonBorderColor:r.config.ButtonBorderColor,buttonWAText:r.config.ButtonWAText,buttonWATextSubtitle:r.config.ButtonWATextSubtitle,buttonWABackgroundColor:r.config.ButtonWABackgroundColor,buttonWABorderColor:r.config.ButtonWABorderColor,buttonWATextColor:r.config.ButtonWATextColor,buttonWALogoColor:r.config.ButtonWALogoColor,phoneChannels:r.config.PhoneChannels,countryCode:r.config.CountryCode,identifierFieldInitialValue:r.config.IdentifierFieldInitialValue,identifierFieldDisabled:r.config.IdentifierFieldDisabled,skipIdentiferForm:r.config.SkipIdentifierForm,skipIdentiferFormWithValue:r.config.SkipIdentifierFormWithValue,skipRedirectURL:!(r.config.RedirectURL&&!r.config.SkipRedirectURL),captchaRequired:r.config.CaptchaRequired,styles:r.config.Styles,authRequestText:r.config.AuthRequestText,authenticationMethod:r.config.AuthenticationMethod,termsOfServiceLink:r.config.TermsOfServiceLink,privacyPolicyLink:r.config.PrivacyPolicyLink,socialLoginProviders:r.config.SocialLoginProviders}};r.handleRedirect(),t.sendPost(a,r.cotterIframeID);break;case i+"LOADED":r.loaded=!0;break;case i+"ON_SUCCESS":r.config.OnSuccess&&r.config.OnSuccess(o.payload),r.verifySuccess=o.payload;break;case i+"ON_SUBMIT_AUTHORIZATION_CODE":r.submitAuthorizationCode(o.payload,r.verifier);break;case i+"ON_SOCIAL_LOGIN_REQUEST":null===window||void 0===window||window.sessionStorage.setItem(h.default.LOGIN_KEY,btoa(JSON.stringify({code_verifier:r.verifier,redirect_url:window.location.href})));var c=h.default.getAuthorizeURL(null===(n=o.payload)||void 0===n?void 0:n.provider,r.config.ApiKeyID,r.state,window.location.href,r.challenge);window.location.href=c;break;case i+"ON_ERROR":r.config.OnError&&r.config.OnError(o.payload),r.verifyError=o.payload;break;case i+"ON_BEGIN":var u=function(){if("MAGIC_LINK"===r.config.AuthenticationMethod&&!r.config.CaptchaRequired&&document.getElementById(r.config.ContainerID)){var t=document.getElementById(r.config.ContainerID),e=t.offsetHeight;t.style.height=Math.max(300,e)+"px"}if(r.config.OnBegin){var n=r.config.OnBegin(o.payload);Promise.resolve(n||null).then((function(t){t?r.StopSubmissionWithError(t,r.cotterIframeID):r.continue(o.payload,r.cotterIframeID)})).catch((function(t){throw console.log("The OnBegin function throws an error: ",t),"The OnBegin function throws an error: "+t}))}else r.continue(o.payload,r.cotterIframeID)};r.config.FormID?fetch(s.default.WorkerURL+"/screening/form?identifier="+encodeURIComponent(o.payload.identifier)+"&form-id="+encodeURIComponent(r.config.FormID),{method:"GET",headers:{API_KEY_ID:r.config.ApiKeyID,"Content-type":"application/json"}}).then((function(t){return t.json()})).then((function(t){var e;t.passed?u():r.StopSubmissionWithError(null!==(e=t.message)&&void 0!==e?e:"You are not allowed to use this form",r.cotterIframeID)})).catch((function(t){r.StopSubmissionWithError("Something went wrong, we're unable to process your request",r.cotterIframeID)})):u()}}}))}return t.prototype.handleRedirect=function(){var e,n;return r(this,void 0,void 0,(function(){var r,i,s,c,u,f,l,d,p,y,g,v,w,m,b,_=this;return o(this,(function(o){switch(o.label){case 0:return r=new URLSearchParams(window.location.search),i=r.get("challenge_id"),s=r.get("code"),c=r.get("state"),u=r.get("action"),f=r.get("auth_method"),l=null===window||void 0===window?void 0:window.sessionStorage.getItem(h.default.LOGIN_KEY),u===a.SOCIAL_LOGIN_ACTION.CONNECT&&(p=new h.default(this.config)).show().then((function(t){_.onSuccess(t)})).catch((function(t){_.onError(t)})),(null==i?void 0:i.length)>0&&(null==s?void 0:s.length)>0&&(null==c?void 0:c.length)>0&&(null==l?void 0:l.length)>0?(d=atob(l),p=d?JSON.parse(d):{},this.config.RedirectURL=p.redirect_url,this.config.SkipRedirectURL=!0,[4,this.submitAuthorizationCode({authorization_code:s,challenge_id:i,state:c,client_json:{}},p.code_verifier,p.redirect_url,f)]):[3,2];case 1:o.sent(),null===window||void 0===window||window.sessionStorage.removeItem(h.default.LOGIN_KEY),history.pushState({},null,null===(n=null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.href)||void 0===n?void 0:n.split("?")[0]),o.label=2;case 2:return f===a.AUTHENTICATION_METHOD.MAGIC_LINK&&(y=r.get("challenge"),g=r.get("id_type"),v=r.get("id"),w=r.get("client_json"),this.config.SkipRedirectURL=!0,m={challenge:y,challenge_id:i,client_json:JSON.parse(w),identifierType:g,identifier:v},b={action:"HANDLE_MAGIC_LINK_REDIRECT",payload:m},t.sendPost(b,this.cotterIframeID)),[2]}}))}))},t.prototype.showEmailForm=function(){return this.config.IdentifierField="email",this.config.Type=a.IDENTIFIER_TYPE.EMAIL,this.showForm()},t.prototype.showPhoneForm=function(){return this.config.IdentifierField="phone",this.config.Type=a.IDENTIFIER_TYPE.PHONE,this.showForm()},t.prototype.showForm=function(){var t=this,e=this.config.ContainerID||d,n=document.getElementById(e),r=document.createElement("iframe");return r.setAttribute("id",this.cotterIframeID),r.style.border="0",n.appendChild(r),r.style.width="100%",r.style.height="100%",this.config.CaptchaRequired&&(r.style.minHeight="520px"),r.style.overflow="scroll",c.challengeFromVerifier(this.verifier).then((function(e){var n=s.default.JSURL+"/signup?challenge="+e+"&type="+t.config.Type+"&domain="+t.config.Domain+"&api_key="+t.config.ApiKeyID+"&redirect_url="+t.config.RedirectURL+"&state="+t.state+"&id="+t.cID;t.config.CotterUserID&&(n=n+"&cotter_user_id="+t.config.CotterUserID),t.config.FormID&&(n=n+"&form_id="+encodeURIComponent(t.config.FormID)),r.setAttribute("src",encodeURI(n)),r.setAttribute("allowtransparency","true")})),c.verificationProccessPromise(this)},t.prototype.removeForm=function(){document.getElementById(this.cotterIframeID).remove()},t.prototype.onSuccess=function(e){t.sendPost({action:"DONE_SUCCESS"},this.cotterIframeID),this.verifySuccess=e,this.config.OnSuccess&&this.config.OnSuccess(e)},t.prototype.onError=function(e){var n={action:"DONE_ERROR",payload:e};t.sendPost(n,this.cotterIframeID),this.verifyError=e,this.config.OnError&&this.config.OnError(e)},t.prototype.submitAuthorizationCode=function(t,e,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),r(this,void 0,void 0,(function(){var a,c,f,l,h,d,p,y;return o(this,(function(g){return a=t.authorization_code,c=t.challenge_id,f=t.state,l=t.client_json,h=null===this.config.RedirectURL||void 0===this.config.RedirectURL||this.config.RedirectURL&&this.config.RedirectURL.length<=0||this.config.SkipRedirectURL,f!==this.state&&this.config.OnError&&this.config.OnError("State is not the same as the original request."),d={code_verifier:e,authorization_code:a,challenge_id:parseInt(c),redirect_url:n||(h?new URL(window.location.href).origin:this.config.RedirectURL)},p=this,y=s.default.BackendURL+"/verify/get_identity?oauth_token=true",i&&(y=y+"&auth_method="+i),fetch(y,{method:"POST",headers:{API_KEY_ID:""+p.config.ApiKeyID,"Content-Type":"application/json"},body:JSON.stringify(d),credentials:"include"}).then((function(t){return r(this,void 0,void 0,(function(){var e,n,i=this;return o(this,(function(s){switch(s.label){case 0:return[4,t.json()];case 1:if(e=s.sent(),200!==t.status)throw t.data=e,t;return(n=l).token=e.token,n[p.config.IdentifierField||"email"]=e.user.identifier,n.oauth_token=e.oauth_token,n.user=e.user,p.Identifier=e.user.identifier,u.default.store(e.user),p.tokenHander&&p.tokenHander.storeTokens(e.oauth_token),h||!p.config.RedirectURL?(p.onSuccess(n),[2]):(fetch(p.config.RedirectURL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return r(i,void 0,void 0,(function(){var e,n,r;return o(this,(function(o){switch(o.label){case 0:return(e=t.headers.get("content-type"))&&-1!==e.indexOf("application/json")?[4,t.json()]:[3,2];case 1:if(n=o.sent(),!(t.status>=200&&t.status<300))throw t.data=n,t;return p.onSuccess(n),[3,4];case 2:return[4,t.text()];case 3:if(r=o.sent(),!(t.status>=200&&t.status<300))throw t.data=r,t;p.onSuccess(r),o.label=4;case 4:return[2]}}))}))})).catch((function(t){p.onError(t)})),[2])}}))}))})).catch((function(t){p.onError(t)})),[2]}))}))},t.prototype.StopSubmissionWithError=function(e,n){var r={action:"ON_ERROR",errorMsg:e};t.sendPost(r,n)},t.prototype.continue=function(e,n){return r(this,void 0,void 0,(function(){var r,i,s=this;return o(this,(function(o){switch(o.label){case 0:return[4,f.default.available()];case 1:if(r=o.sent(),this.config.WebAuthnEnabled&&!r&&console.log("WebAuthn is enabled, but the user device doesn't support webauthn"),!this.config.WebAuthnEnabled||!r)return[3,6];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,new l.default(this.config.ApiKeyID).checkCredentialExist(e.identifier)];case 3:if(o.sent()){if(!e.auth_required)return this.RegisterWebAuthn=!1,this.config.WebAuthnEnabled=!1,t.ContinueSubmit(e,n),[2];this.LoginWebAuthn=!0,this.ContinueSubmitData=e,new f.default({ApiKeyID:this.config.ApiKeyID,Identifier:e.identifier,IdentifierField:this.config.IdentifierField,IdentifierType:this.config.Type,AlternativeMethod:this.config.AuthenticationMethodName,Type:"LOGIN"},this.tokenHander).show().then((function(r){r.status!==f.default.CANCELED?r.status!==f.default.SUCCESS||s.onSuccess(r):t.ContinueSubmit(e,n)})).catch((function(t){s.onError(t)}))}else this.RegisterWebAuthn=!0,t.ContinueSubmit(e,n);return[2];case 4:return i=o.sent(),this.onError(i),[2];case 5:return[3,7];case 6:t.ContinueSubmit(e,n),o.label=7;case 7:return[2]}}))}))},t.ContinueSubmit=function(e,n){var r={action:"CONTINUE_SUBMIT",payload:e};t.sendPost(r,n)},t.sendPost=function(t,e){var n=document.getElementById(e);c.isIFrame(n)&&n.contentWindow&&n.contentWindow.postMessage(JSON.stringify(t),s.default.JSURL)},t}();e.default=p},5275:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(9514)),c=s(n(9397)),u=n(4656),f=n(3949),l=function(t){return t+"/assets/images/check-purple.png"},h=function(t){return t+"/assets/images/warning.png"},d=function(t){return t+"/assets/images/tapEmail.png"},p=function(t){function e(e,n){var r={AuthenticationMethod:u.AUTHENTICATION_METHOD.MAGIC_LINK};return!1!==e.RedirectMagicLink&&(e.RedirectMagicLink=!0),t.call(this,Object.assign(i({},r),e),n)||this}return o(e,t),e.prototype.showForm=function(){var t,e=this;this.config.AuthRequestText=(t=c.default.AssetURL,{title:"Approve this login from your {{type}}",subtitle:"A magic link has been sent to {{identifier}}",image:d(t),titleError:"Something went wrong",subtitleError:"We are unable to confirm it's you, please try again",imageError:h(t),imageSuccess:l(t),switchOTPText:"Authenticate with OTP instead",default:!0});var n=this.config.ContainerID||c.default.DefaultContainerID,r=document.getElementById(n),o=document.createElement("iframe");return o.setAttribute("id",this.cotterIframeID),o.style.border="0",r.appendChild(o),o.style.width="100%",o.style.height="100%",this.config.CaptchaRequired&&(o.style.minHeight="520px"),o.style.overflow="scroll",this.config.RedirectURL||(this.config.RedirectURL=window.location.href),this.config.SkipRedirectURL=!0,f.challengeFromVerifier(this.verifier).then((function(t){var n=c.default.JSURL+"/login?auth_method=MAGIC_LINK&code_challenge="+t+"&type="+e.config.Type+"&domain="+e.config.Domain+"&api_key="+e.config.ApiKeyID+"&redirect_url="+encodeURIComponent(e.config.RedirectURL)+"&state="+e.state+"&id="+e.cID+"&redirect_link="+e.config.RedirectMagicLink;e.config.CotterUserID&&(n=n+"&cotter_user_id="+e.config.CotterUserID),e.config.FormID&&(n=n+"&form_id="+encodeURIComponent(e.config.FormID)),o.setAttribute("src",encodeURI(n))})),o.setAttribute("allowtransparency","true"),f.verificationProccessPromise(this)},e}(a.default);e.default=p},3425:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(9397)),a=n(3949),c=n(4656),u=i(n(3015)),f=i(n(2203)),l={title:"Do you want to link these accounts?",subtitle:"You are logging-in with an email or phone that is already associated with an existing account",button:"Link",buttonSkip:"Cancel",theme:"#7d44fa"},h=function(){function t(t){this.config=t,this.config.SocialConnectText||(this.config.SocialConnectText=l),this.loaded=!1,this.cotterIframeID=Math.random().toString(36).substring(2,15)+"cotter-socialConnect-iframe",this.containerID=Math.random().toString(36).substring(2,15)+"cotter-socialConnect-container",this.cancelDivID="modal-socialConnect-close-form",this.modalID="modal-socialConnect",this.init()}return t.getAuthorizeURL=function(e,n,r,o,i){var a={client_code_challenge:i,client_redirect_url:o,client_state:r,action:c.SOCIAL_LOGIN_ACTION.LOGIN,company_id:n},u=btoa(JSON.stringify(a));try{sessionStorage.setItem(t.OAUTH_SESSION_NAME,u)}catch(t){}return e=encodeURIComponent(e),n=encodeURIComponent(n),r=encodeURIComponent(r),o=encodeURIComponent(o),i=encodeURIComponent(i),s.default.BackendURL+"/oauth/credential/login/"+e+"?api_key_id="+n+"&state="+r+"&redirect_url="+o+"&code_challenge="+i},t.getConnectURL=function(t,e,n,r){return e=encodeURIComponent(e),n=encodeURIComponent(n),r=encodeURIComponent(r),s.default.BackendURL+"/oauth/credential/connect/"+t+"?api_key_id="+e+"&access_token="+n+"&redirect_url="+r},t.prototype.init=function(){var t=new URL(window.location.href),e=new URL(s.default.JSURL+"/social_connect");e.search=t.search,e.searchParams.append("api_key",this.config.ApiKeyID),e.searchParams.append("domain",this.config.Domain),e.searchParams.append("redirect_url",this.config.RedirectURL),e.searchParams.append("id",this.containerID),this.Modal=new u.default(this.modalID,this.containerID,this.cotterIframeID,this.cancelDivID,e.toString());var n='\n    <div class="modal__overlay" tabindex="-1" id="'+this.cancelDivID+'" >\n      <div id="modal-container" class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-socialConnect-title">\n        <div id="modal-content-content" class="modal-content-content modal__container-socialConnect">\n          <div id="modal-content" class="modal__content modal__content-socialConnect" >\n            <div id="'+this.containerID+'" class="modal-frame-socialConnect"></div>\n          </div>\n        </div>\n        <div class="cotter-watermark" style="margin-top: 10px">\n          <div class="title is-6" style="color: #ffffff"> Secured by </div>\n          <img src="'+s.default.AssetURL+'/assets/images/cotter_transparent_light.png" class="cotter-logo" style="width: 30px; height: 30px;"/>\n          <div class="title is-6" style="color: #ffffff"> Cotter </div>\n        </div>\n      </div>\n    </div>\n    ',r=this.cancel.bind(this);this.Modal.initModal(r,n),this.initEventHandler()},t.prototype.initEventHandler=function(){var e=this;window.addEventListener("message",(function(n){try{var r=JSON.parse(n.data)}catch(n){return}if(n.origin===s.default.JSURL){var o=e.containerID;switch(r.callbackName){case o+"FIRST_LOAD":var i={action:"CONFIG",payload:{socialConnectText:e.config.SocialConnectText}};t.sendPost(i,e.cotterIframeID);break;case o+"LOADED":e.loaded=!0;break;case o+"CANCEL":e.cancel();break;case o+"ON_SOCIAL_LOGIN_CONNECT":e.loginAndConnect(r.payload)}}}))},t.sendPost=function(t,e){var n=document.getElementById(e);a.isIFrame(n)&&n.contentWindow&&n.contentWindow.postMessage(JSON.stringify(t),s.default.JSURL)},t.prototype.show=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return this.Modal.showModal(),[2,a.verificationProccessPromise(this)]}))}))},t.prototype.cancel=function(){var t,e;history.pushState({},null,null===(e=null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.href)||void 0===e?void 0:e.split("?")[0]),this.Modal.closeModal()},t.prototype.onSuccess=function(t){var e,n;history.pushState({},null,null===(n=null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.href)||void 0===n?void 0:n.split("?")[0]),this.Modal.closeModal(),window.location.href=null==t?void 0:t.url},t.prototype.onError=function(t){var e,n;history.pushState({},null,null===(n=null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.href)||void 0===n?void 0:n.split("?")[0]),this.Modal.closeModal(),this.verifyError=t},t.prototype.loginAndConnect=function(t){return r(this,void 0,void 0,(function(){var e,n,r;return o(this,(function(o){switch(o.label){case 0:e=new f.default(this.config.ApiKeyID),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.loginAndConnect(t.tokenID,t.userID,t.provider)];case 2:return n=o.sent(),this.onSuccess(n),[3,4];case 3:return r=o.sent(),this.onError(r),[3,4];case 4:return[2]}}))}))},t.LOGIN_KEY="cotter_slk",t.OAUTH_SESSION_NAME="oauth_sess",t}();e.default=h},916:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(4656),c=s(n(9397)),u=n(3949),f=s(n(2203)),l=s(n(8998)),h=s(n(3015)),d={title:"Sign-in faster.",subtitle:"Setup {{method}} to sign-in faster the next time you log in.",button:"Enable {{method}}",buttonSkip:"Setup Later",waiting:"Please wait for the browser pop up",theme:"#7d44fa"},p={title:"Sign in with {{method}}.",subtitle:"Authenticate with {{method}} from your device.",buttonSkip:"Send {{alternative}} to {{identifier}} instead.",button:"Sign in with {{method}}",waiting:"Please wait for the browser pop up",theme:"#7d44fa"},y=function(){function t(t,e){this.config=t,this.config.RegistrationText=d,this.config.LoginText=p,this.loaded=!1,this.tokenHander=e,this.originalResponse=this.config.OriginalResponse,this.config.ErrorDisplay&&(this.displayedError=this.config.ErrorDisplay);var n=Math.random().toString(36).substring(2,15);try{this.state=localStorage.getItem("COTTER_STATE"),localStorage.getItem("COTTER_STATE")||(this.state=n,localStorage.setItem("COTTER_STATE",this.state))}catch(t){this.state=n}this.config.Domain=new URL(window.location.href).origin,this.config.CotterBackendURL||(this.config.CotterBackendURL=c.default.BackendURL),this.cotterIframeID=Math.random().toString(36).substring(2,15)+"cotter-webauthn-iframe",this.containerID=Math.random().toString(36).substring(2,15)+"cotter-webauthn-container",this.cancelDivID="modal-cotterWebAuthn-close-form",this.modalID="modal-cotterWebAuthn",this.init()}return t.prototype.init=function(){var t=c.default.JSURL+"/webauthn?type="+this.config.Type+"&domain="+this.config.Domain+"&api_key="+this.config.ApiKeyID+"&state="+this.state+"&id="+this.containerID+"&identifier="+this.config.Identifier;this.Modal=new h.default(this.modalID,this.containerID,this.cotterIframeID,this.cancelDivID,t);var e='\n    <div class="modal__overlay" tabindex="-1" id="'+this.cancelDivID+'" >\n      <div id="modal-container" class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-cotterWebAuthn-title">\n        <div id="modal-content-content" class="modal-content-content modal__container-webAuthn">\n          <div id="modal-content" class="modal__content modal__content-webAuthn" >\n            <div id="'+this.containerID+'" class="modal-frame-webAuthn"></div>\n          </div>\n        </div>\n        <div class="cotter-watermark" style="margin-top: 10px">\n          <div class="title is-6" style="color: #ffffff"> Secured by </div>\n          <img src="'+c.default.AssetURL+'/assets/images/cotter_transparent_light.png" class="cotter-logo" style="width: 30px; height: 30px;"/>\n          <div class="title is-6" style="color: #ffffff"> Cotter </div>\n        </div>\n      </div>\n    </div>\n    ',n=this.cancel.bind(this);this.Modal.initModal(n,e),this.initEventHandler()},t.prototype.onSuccess=function(e,n){void 0===n&&(n=t.SUCCESS),this.Modal.closeModal(),this.verifySuccess=r({status:n},e)},t.prototype.onError=function(t){this.Modal.closeModal(),this.verifyError=t},t.prototype.onErrorDisplay=function(e){var n=e,r=null;e.data&&e.data.msg?n=e.data.msg:e.msg&&(n=e.msg),(n=n.toString()).includes("timed out")?n="The operation either timed out or was not allowed.":n.includes("already pending")?n="A request is already pending.":n.includes("credentials already registered")?n="You already registered this authenticator, you don't have to register it again.":n.includes("session data from cookie")&&(n="Please enable third-party cookies in your browser settings",r="https://help.cotter.app/en/articles/4572882-how-to-enable-third-party-cookies-to-use-cotter"),this.displayedError=n;var o={action:"ERROR_DISPLAY",payload:{error:n,errorLink:r}};t.sendPost(o,this.cotterIframeID)},t.prototype.initEventHandler=function(){var e=this;window.addEventListener("message",(function(n){try{var r=JSON.parse(n.data)}catch(n){return}if(n.origin===c.default.JSURL){var o=e.containerID;switch(r.callbackName){case o+"FIRST_LOAD":var i={action:"CONFIG",payload:{registrationText:e.config.RegistrationText,loginText:e.config.LoginText,alternativeMethod:e.config.AlternativeMethod,identifier:e.config.Identifier,errorDisplay:e.config.ErrorDisplay}};t.sendPost(i,e.cotterIframeID);break;case o+"LOADED":e.loaded=!0;break;case o+"BEGIN_WEBAUTHN_REGISTRATION":e.beginRegistration(e.config.Identifier||"",e.config.Domain||new URL(window.location.href).origin).then((function(t){return e.onSuccess(t)})).catch((function(t){return e.onErrorDisplay(t)}));break;case o+"SKIP_WEBAUTHN":e.cancel();break;case o+"BEGIN_WEBAUTHN_LOGIN":e.beginLogin(e.config.Identifier||"",e.config.Domain||new URL(window.location.href).origin,r.payload.publicKey).then((function(t){return e.onSuccess(t)})).catch((function(t){return e.onErrorDisplay(t)}));break;case o+"ON_SUCCESS":e.onSuccess(r.payload);break;case o+"ON_ERROR":e.onError(r.payload)}}}))},t.sendPost=function(t,e){var n=document.getElementById(e);u.isIFrame(n)&&n.contentWindow&&n.contentWindow.postMessage(JSON.stringify(t),c.default.JSURL)},t.prototype.show=function(){return o(this,void 0,void 0,(function(){return i(this,(function(t){return this.Modal.showModal(),[2,u.verificationProccessPromise(this)]}))}))},t.prototype.cancel=function(){null!==this.displayedError&&void 0!==this.displayedError&&this.config.RegisterWebAuthn?this.onError(this.displayedError):this.onSuccess(this.originalResponse,t.CANCELED)},t.prototype.startRegistration=function(){this.config.Type="REGISTRATION",this.show()},t.prototype.startLogin=function(){this.config.Type="LOGIN",this.show()},t.available=function(){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return null==window.PublicKeyCredential||void 0===window.PublicKeyCredential?[3,2]:[4,window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()];case 1:return[2,t.sent()];case 2:return[2]}}))}))},t.prototype.beginRegistration=function(t,e){return o(this,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return[4,new f.default(this.config.ApiKeyID).beginWebAuthnRegistration(t,e)];case 1:n=o.sent(),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,navigator.credentials.create({publicKey:n})];case 3:if(!(r=o.sent()))throw"Unable to create credential";return[4,this.finishRegistration(r,t,e)];case 4:return[2,o.sent()];case 5:throw o.sent();case 6:return[2]}}))}))},t.prototype.finishRegistration=function(t,e,n){return o(this,void 0,void 0,(function(){var r;return i(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,new f.default(this.config.ApiKeyID).finishWebAuthnRegistration(e,t,n)];case 1:return(r=o.sent())[this.config.IdentifierField||""]=r.user.identifier,[2,r];case 2:throw o.sent();case 3:return[2]}}))}))},t.prototype.beginLogin=function(t,e,n){return o(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return[4,new f.default(this.config.ApiKeyID).beginWebAuthnLogin(t,e)];case 1:r=i.sent(),i.label=2;case 2:return i.trys.push([2,5,,6]),[4,navigator.credentials.get({publicKey:r})];case 3:if(!(o=i.sent()))throw"Unable to create credential";return[4,this.finishLogin(o,t,e,n)];case 4:return[2,i.sent()];case 5:throw i.sent();case 6:return[2]}}))}))},t.prototype.finishLogin=function(t,e,n,r){return o(this,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,new f.default(this.config.ApiKeyID).finishWebAuthnLogin(e,this.config.IdentifierType||a.IDENTIFIER_TYPE.EMAIL,t,n,r)];case 1:return(o=i.sent())&&o.user&&l.default.store(o.user),o&&o.oauth_token&&this.tokenHander&&this.tokenHander.storeTokens(o.oauth_token),o[this.config.IdentifierField||""]=o.user.identifier,[2,o];case 2:throw i.sent();case 3:return[2]}}))}))},t.CANCELED="CANCELED",t.SUCCESS="SUCCESS",t}();e.default=y},4656:(t,e)=>{"use strict";var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),e.SOCIAL_LOGIN_ACTION=e.AUTHENTICATION_METHOD=e.IDENTIFIER_TYPE=void 0,(o=e.IDENTIFIER_TYPE||(e.IDENTIFIER_TYPE={})).EMAIL="EMAIL",o.PHONE="PHONE",(r=e.AUTHENTICATION_METHOD||(e.AUTHENTICATION_METHOD={})).MAGIC_LINK="MAGIC_LINK",r.OTP="OTP",(n=e.SOCIAL_LOGIN_ACTION||(e.SOCIAL_LOGIN_ACTION={})).LOGIN="O_LOGIN",n.CONNECT="O_CONNECT"},3015:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(4322)),a=i(n(9397)),c=function(){function t(t,e,n,r,o){this.modalID=t,this.containerID=e,this.cotterIframeID=n,this.cancelDivID=r,this.iframePath=o}return t.prototype.initModal=function(t,e){var n=document.createElement("link");n.rel="stylesheet",n.href="https://fonts.googleapis.com/css?family=Lato:700&display=swap",document.head.appendChild(n);var r=document.createElement("link");r.rel="stylesheet",r.href=a.default.AssetURL+"/lib/modal.css",document.head.appendChild(r);var o=document.createElement("div");o.className="modal micromodal-slide",o.id=this.modalID;var i=document.createAttribute("aria-hidden");i.value="true",o.setAttributeNode(i),o.innerHTML=e,document.body.appendChild(o);var c=document.getElementById(this.cancelDivID);c&&(c.onclick=function(){t()}),s.default.init({awaitOpenAnimation:!0,awaitCloseAnimation:!0})},t.prototype.removeSelf=function(){var t=document.getElementById(this.modalID);t&&t.remove()},t.prototype.loadIframe=function(){var t=this.containerID,e=document.getElementById(t),n=document.createElement("iframe");n.setAttribute("id",this.cotterIframeID),n.style.border="0",e.appendChild(n),n.style.width="100%",n.style.height="100%",n.style.overflow="scroll",n.setAttribute("src",encodeURI(this.iframePath)),n.setAttribute("allowtransparency","true")},t.prototype.removeIframe=function(){document.getElementById(this.cotterIframeID).remove()},t.prototype.showModal=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(e){try{this.activeModal=s.default.show(this.modalID,{})}catch(e){e instanceof TypeError?(t=this,setTimeout((function(){return t.showModal()}),0)):console.error(e)}finally{this.loadIframe()}return[2]}))}))},t.prototype.closeModal=function(){this.activeModal?this.activeModal.closeModalById(this.modalID):s.default.close(this.modalID),this.removeIframe(),this.removeSelf()},t}();e.default=c},5601:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LOGOUT_BUTTON_HREF=e.DIV_CONTAINER=e.POPUP_BUTTON_HREF=e.DEFAULT_FORM_SETTINGS=e.ATTR_CONFIG=e.ATTR_ENV=e.ATTR_API_KEY_ID=void 0;var r=n(4656);e.ATTR_API_KEY_ID="data-cotter-api-key-id",e.ATTR_ENV="data-cotter-env",e.ATTR_CONFIG="data-cotter-config",e.DEFAULT_FORM_SETTINGS={authenticationMethod:r.AUTHENTICATION_METHOD.MAGIC_LINK,type:r.IDENTIFIER_TYPE.EMAIL,modalBackgroundColor:"#ffffff",modalTitleColor:"#2e2e2e",modalTitle:"Welcome",logo:"https://www.cotter.app/assets/cotter_logo.png"},e.POPUP_BUTTON_HREF="#/ct/login/",e.DIV_CONTAINER="cotter-form-container-",e.LOGOUT_BUTTON_HREF="#/ct/logout/"},9397:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.DefaultUSCode="+1",t.DefaultContainerID="cotter-form-container",t.AssetURL="https://js.cotter.app",t.BackendURL="https://www.cotter.app/api/v0",t.JSURL="https://js.cotter.app",t.WorkerURL="https://worker.cotter.app",t}();e.default=n},6233:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(5638),a=i(n(2203)),c="rft",u=function(){function t(){this.tokenFetchingState=1}return t.prototype.withApiKeyID=function(t){return this.apiKeyID=t,this},t.prototype.storeTokens=function(t){var e;if(null==t)throw new Error("oauthTokens are not specified (null or undefined)");this.accessToken=t.access_token,this.idToken=t.id_token,this.tokenType=t.token_type;try{null===(e=null===window||void 0===window?void 0:window.localStorage)||void 0===e||e.setItem(c,t.refresh_token)}catch(t){}this.tokenFetchingState=1},t.prototype.getAccessToken=function(){return r(this,void 0,void 0,(function(){var t,e,n;return o(this,(function(r){switch(r.label){case 0:if(t=this.accessToken,e=null,t&&t.length>0&&(e=new s.CotterAccessToken(t)),!(null==t||null==e||e.getExpiration()<(new Date).getTime()/1e3))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.getTokensFromRefreshToken()];case 2:return n=r.sent(),t=n.access_token,[3,4];case 3:return r.sent(),[2,null];case 4:return this.accessToken=t,[2,new s.CotterAccessToken(t)]}}))}))},t.prototype.getIDToken=function(){return r(this,void 0,void 0,(function(){var t,e,n;return o(this,(function(r){switch(r.label){case 0:if(t=this.idToken,e=null,t&&t.length>0&&(e=new s.CotterIDToken(t)),!(null==t||null==e||e.getExpiration()<(new Date).getTime()/1e3))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.getTokensFromRefreshToken()];case 2:return n=r.sent(),t=n.id_token,[3,4];case 3:return r.sent(),[2,null];case 4:return this.idToken=t,[2,new s.CotterIDToken(t)]}}))}))},t.prototype.getTokensFromRefreshToken=function(){return r(this,void 0,void 0,(function(){var t=this;return o(this,(function(e){return[2,new Promise((function(e,n){var r=function(){switch(t.tokenFetchingState){case 1:t.getTokensFromRefreshTokenAPI();break;case 5:if(t.fetchTokenResp)return e(t.fetchTokenResp),void(t.tokenFetchingState=1);break;case 3:return t.tokenFetchingState=1,void n();case 4:return void n()}setTimeout(r,0)};r()}))]}))}))},t.prototype.getTokensFromRefreshTokenAPI=function(){var t,e;return r(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:this.tokenFetchingState=2,this.fetchTokenResp=null,n=null;try{n=null===(t=null===window||void 0===window?void 0:window.localStorage)||void 0===t?void 0:t.getItem(c)}catch(t){return this.tokenFetchingState=4,[2]}o.label=1;case 1:if(o.trys.push([1,3,,4]),!this.apiKeyID)throw"ApiKeyID is undefined, please initialize Cotter with ApiKeyID";return[4,new a.default(this.apiKeyID).getTokensFromRefreshToken(n)];case 2:return r=o.sent(),this.storeTokens(r),this.tokenFetchingState=5,this.fetchTokenResp=r,[2];case 3:return i=o.sent(),(null===(e=i.msg)||void 0===e?void 0:e.includes("not valid"))?this.tokenFetchingState=4:this.tokenFetchingState=3,[2];case 4:return[2]}}))}))},t.prototype.removeTokens=function(){var t;return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:this.accessToken=void 0,this.idToken=void 0,this.tokenType=void 0;try{null===(t=null===window||void 0===window?void 0:window.localStorage)||void 0===t||t.removeItem(c)}catch(t){}e.label=1;case 1:if(e.trys.push([1,3,,4]),!this.apiKeyID)throw"ApiKeyID is undefined, please initialize Cotter with ApiKeyID";return[4,new a.default(this.apiKeyID).removeRefreshToken()];case 2:return e.sent(),[3,4];case 3:throw e.sent();case 4:return[2]}}))}))},t.prototype.updateTokensWithRefreshToken=function(t){var e;return r(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),null===(e=null===window||void 0===window?void 0:window.localStorage)||void 0===e||e.setItem(c,t),[4,this.getTokensFromRefreshToken()];case 1:return n=r.sent(),this.accessToken=n.access_token,this.idToken=n.id_token,this.tokenType=n.token_type,[2,n];case 2:return r.sent(),[2,null];case 3:return[2]}}))}))},t}();e.default=u},8998:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.store=function(e){try{localStorage.setItem(t.STORAGE_KEY,JSON.stringify(e))}catch(t){}},t.remove=function(){try{localStorage.removeItem(t.STORAGE_KEY)}catch(t){}},t.STORAGE_KEY="COTTER_USER",t}();e.default=n},3949:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getModalHeight=e.lightOrDark=e.isIFrame=e.verificationProccessPromise=e.challengeFromVerifier=e.base64urldecode=e.base64urlencode=e.generateVerifier=e.getAPIKeyIDFromAttr=void 0;var a=s(n(916)),c=n(5601);function u(t){return("0"+t.toString(16)).substr(-2)}function f(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,o=0;o<r;o++)e+=String.fromCharCode(n[o]);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}e.getAPIKeyIDFromAttr=function(){var t,e=null===(t=document.querySelector("["+c.ATTR_API_KEY_ID+"]"))||void 0===t?void 0:t.getAttribute(""+c.ATTR_API_KEY_ID);if(!e)throw new Error("You need to specify the "+c.ATTR_API_KEY_ID+" when adding this <script>.");return e},e.generateVerifier=function(){var t=new Uint32Array(28);return window.crypto.getRandomValues(t),Array.from(t,u).join("")},e.base64urlencode=f,e.base64urldecode=function(t){var e=(t=t.replace(/-/g,"+").replace(/_/g,"/")).length%4;if(e){if(1===e)throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");t+=new Array(5-e).join("=")}var n=atob(t);return Uint8Array.from(n,(function(t){return t.charCodeAt(0)}))},e.challengeFromVerifier=function(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,(n=t,r=(new TextEncoder).encode(n),window.crypto.subtle.digest("SHA-256",r))];case 1:return[2,f(e.sent())]}var n,r}))}))},e.verificationProccessPromise=function(t){return new Promise((function(e,n){var o=function(){if(t.verifySuccess)if(t.RegisterWebAuthn){var i=r({},t.verifySuccess);t.verifySuccess=void 0,new a.default({ApiKeyID:t.config.ApiKeyID,Identifier:t.Identifier,IdentifierField:t.config.IdentifierField,OriginalResponse:i,IdentifierType:t.config.Type,Type:"REGISTRATION"},t.tokenHandler).show().then((function(n){t.onSuccess(n),t.verifySuccess=n,e(t.verifySuccess)})).catch((function(e){t.onError(e),t.verifyError=e,n(t.verifyError)}))}else e(t.verifySuccess);else t.verifyError?n(t.verifyError):setTimeout(o,0)};o()}))},e.isIFrame=function(t){return null!==t&&"IFRAME"===t.tagName},e.lightOrDark=function(t){var e,n,r;return t.match(/^rgb/)?(e=(t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],n=t[2],r=t[3]):(e=(t=+("0x"+t.slice(1).replace(t.length<5&&/./g,"$&$&")))>>16,n=t>>8&255,r=255&t),!(Math.sqrt(e*e*.299+n*n*.587+r*r*.114)>127.5)},e.getModalHeight=function(t){var e,n,r,o,i,s,a=200;return"true"===(null===(e=t.captchaRequired)||void 0===e?void 0:e.toString())&&(a=500),(null===(n=t.socialLoginProviders)||void 0===n?void 0:n.length)>0&&(a+=100+40*(null===(r=t.socialLoginProviders)||void 0===r?void 0:r.length)),"PHONE"===t.type&&(null===(o=t.phoneChannels)||void 0===o?void 0:o.length)>1&&(a+=120),(null===(i=t.additionalFields)||void 0===i?void 0:i.length)>0&&(a+=100*(null===(s=t.additionalFields)||void 0===s?void 0:s.length)),a}},9498:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},s=i(n(8661)),a=i(n(9397)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.CotterEnum=a.default,e}(s.default);t.exports=c},8164:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.CredentialToServerCredentialRequest=e.CredentialToServerCredentialCreation=e.serverToRequestOptions=e.serverToCreationOptions=void 0;var o=n(3949);e.serverToCreationOptions=function(t){var e=t.excludeCredentials?t.excludeCredentials.map((function(t){return r(r({},t),{id:o.base64urldecode(t.id)})})):void 0;return r(r({},t),{challenge:o.base64urldecode(t.challenge),user:r(r({},t.user),{id:o.base64urldecode(t.user.id)}),excludeCredentials:e})},e.serverToRequestOptions=function(t){var e=t.allowCredentials?t.allowCredentials.map((function(t){return r(r({},t),{id:o.base64urldecode(t.id)})})):void 0;return r(r({},t),{challenge:o.base64urldecode(t.challenge),allowCredentials:e})},e.CredentialToServerCredentialCreation=function(t){return{id:t.id,rawId:o.base64urlencode(t.rawId),response:{clientDataJSON:o.base64urlencode(t.response.clientDataJSON),attestationObject:o.base64urlencode(t.response.attestationObject)},type:t.type}},e.CredentialToServerCredentialRequest=function(t){return{id:t.id,rawId:o.base64urlencode(t.rawId),response:{authenticatorData:o.base64urlencode(t.response.authenticatorData),clientDataJSON:o.base64urlencode(t.response.clientDataJSON),signature:o.base64urlencode(t.response.signature),userHandle:o.base64urlencode(t.response.userHandle)},type:t.type}}},1558:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(916)),a=i(n(8998)),c=function(){function t(t){this.ID=t.ID,this.issuer=t.issuer,this.client_user_id=t.client_user_id,this.enrolled=t.enrolled,this.identifier=t.identifier}return t.prototype.update=function(t){this.ID=t.ID,this.issuer=t.issuer,this.client_user_id=t.client_user_id,this.enrolled=t.enrolled,this.identifier=t.identifier},t.getLoggedInUser=function(){var e=null;try{e=localStorage.getItem(a.default.STORAGE_KEY)}catch(t){}return e?new t(JSON.parse(e)):null},t.prototype.registerWebAuthn=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,s.default.available()];case 1:return t.sent()?[3,3]:[4,new s.default({WebAuthnEnabled:!0,RegisterWebAuthn:!0,ApiKeyID:this.issuer,Identifier:this.identifier,Type:"REGISTRATION",ErrorDisplay:"The browser or user device doesn't support WebAuthn."}).show()];case 2:return[2,t.sent()];case 3:return[4,new s.default({ApiKeyID:this.issuer,Identifier:this.identifier,Type:"REGISTRATION",RegisterWebAuthn:!0}).show()];case 4:return[2,t.sent()]}}))}))},t}();e.default=c},780:(t,e,n)=>{!function(t){"use strict";var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},r=function(){throw new Error("no PRNG")},o=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),c=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function y(t,e,n,r,o){var i,s=0;for(i=0;i<o;i++)s|=t[e+i]^n[r+i];return(1&s-1>>>8)-1}function g(t,e,n,r){return y(t,e,n,r,16)}function v(t,e,n,r){return y(t,e,n,r,32)}function w(t,e,n,r){!function(t,e,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,f=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,y=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,w=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,m=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,_=i,I=s,E=a,A=c,T=u,S=f,C=l,R=h,O=d,k=p,U=y,D=g,L=v,x=w,B=m,M=b,N=0;N<20;N+=2)_^=(o=(L^=(o=(O^=(o=(T^=(o=_+L|0)<<7|o>>>25)+_|0)<<9|o>>>23)+T|0)<<13|o>>>19)+O|0)<<18|o>>>14,S^=(o=(I^=(o=(x^=(o=(k^=(o=S+I|0)<<7|o>>>25)+S|0)<<9|o>>>23)+k|0)<<13|o>>>19)+x|0)<<18|o>>>14,U^=(o=(C^=(o=(E^=(o=(B^=(o=U+C|0)<<7|o>>>25)+U|0)<<9|o>>>23)+B|0)<<13|o>>>19)+E|0)<<18|o>>>14,M^=(o=(D^=(o=(R^=(o=(A^=(o=M+D|0)<<7|o>>>25)+M|0)<<9|o>>>23)+A|0)<<13|o>>>19)+R|0)<<18|o>>>14,_^=(o=(A^=(o=(E^=(o=(I^=(o=_+A|0)<<7|o>>>25)+_|0)<<9|o>>>23)+I|0)<<13|o>>>19)+E|0)<<18|o>>>14,S^=(o=(T^=(o=(R^=(o=(C^=(o=S+T|0)<<7|o>>>25)+S|0)<<9|o>>>23)+C|0)<<13|o>>>19)+R|0)<<18|o>>>14,U^=(o=(k^=(o=(O^=(o=(D^=(o=U+k|0)<<7|o>>>25)+U|0)<<9|o>>>23)+D|0)<<13|o>>>19)+O|0)<<18|o>>>14,M^=(o=(B^=(o=(x^=(o=(L^=(o=M+B|0)<<7|o>>>25)+M|0)<<9|o>>>23)+L|0)<<13|o>>>19)+x|0)<<18|o>>>14;_=_+i|0,I=I+s|0,E=E+a|0,A=A+c|0,T=T+u|0,S=S+f|0,C=C+l|0,R=R+h|0,O=O+d|0,k=k+p|0,U=U+y|0,D=D+g|0,L=L+v|0,x=x+w|0,B=B+m|0,M=M+b|0,t[0]=_>>>0&255,t[1]=_>>>8&255,t[2]=_>>>16&255,t[3]=_>>>24&255,t[4]=I>>>0&255,t[5]=I>>>8&255,t[6]=I>>>16&255,t[7]=I>>>24&255,t[8]=E>>>0&255,t[9]=E>>>8&255,t[10]=E>>>16&255,t[11]=E>>>24&255,t[12]=A>>>0&255,t[13]=A>>>8&255,t[14]=A>>>16&255,t[15]=A>>>24&255,t[16]=T>>>0&255,t[17]=T>>>8&255,t[18]=T>>>16&255,t[19]=T>>>24&255,t[20]=S>>>0&255,t[21]=S>>>8&255,t[22]=S>>>16&255,t[23]=S>>>24&255,t[24]=C>>>0&255,t[25]=C>>>8&255,t[26]=C>>>16&255,t[27]=C>>>24&255,t[28]=R>>>0&255,t[29]=R>>>8&255,t[30]=R>>>16&255,t[31]=R>>>24&255,t[32]=O>>>0&255,t[33]=O>>>8&255,t[34]=O>>>16&255,t[35]=O>>>24&255,t[36]=k>>>0&255,t[37]=k>>>8&255,t[38]=k>>>16&255,t[39]=k>>>24&255,t[40]=U>>>0&255,t[41]=U>>>8&255,t[42]=U>>>16&255,t[43]=U>>>24&255,t[44]=D>>>0&255,t[45]=D>>>8&255,t[46]=D>>>16&255,t[47]=D>>>24&255,t[48]=L>>>0&255,t[49]=L>>>8&255,t[50]=L>>>16&255,t[51]=L>>>24&255,t[52]=x>>>0&255,t[53]=x>>>8&255,t[54]=x>>>16&255,t[55]=x>>>24&255,t[56]=B>>>0&255,t[57]=B>>>8&255,t[58]=B>>>16&255,t[59]=B>>>24&255,t[60]=M>>>0&255,t[61]=M>>>8&255,t[62]=M>>>16&255,t[63]=M>>>24&255}(t,e,n,r)}function m(t,e,n,r){!function(t,e,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,f=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,y=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,w=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,m=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,_=0;_<20;_+=2)i^=(o=(v^=(o=(d^=(o=(u^=(o=i+v|0)<<7|o>>>25)+i|0)<<9|o>>>23)+u|0)<<13|o>>>19)+d|0)<<18|o>>>14,f^=(o=(s^=(o=(w^=(o=(p^=(o=f+s|0)<<7|o>>>25)+f|0)<<9|o>>>23)+p|0)<<13|o>>>19)+w|0)<<18|o>>>14,y^=(o=(l^=(o=(a^=(o=(m^=(o=y+l|0)<<7|o>>>25)+y|0)<<9|o>>>23)+m|0)<<13|o>>>19)+a|0)<<18|o>>>14,b^=(o=(g^=(o=(h^=(o=(c^=(o=b+g|0)<<7|o>>>25)+b|0)<<9|o>>>23)+c|0)<<13|o>>>19)+h|0)<<18|o>>>14,i^=(o=(c^=(o=(a^=(o=(s^=(o=i+c|0)<<7|o>>>25)+i|0)<<9|o>>>23)+s|0)<<13|o>>>19)+a|0)<<18|o>>>14,f^=(o=(u^=(o=(h^=(o=(l^=(o=f+u|0)<<7|o>>>25)+f|0)<<9|o>>>23)+l|0)<<13|o>>>19)+h|0)<<18|o>>>14,y^=(o=(p^=(o=(d^=(o=(g^=(o=y+p|0)<<7|o>>>25)+y|0)<<9|o>>>23)+g|0)<<13|o>>>19)+d|0)<<18|o>>>14,b^=(o=(m^=(o=(w^=(o=(v^=(o=b+m|0)<<7|o>>>25)+b|0)<<9|o>>>23)+v|0)<<13|o>>>19)+w|0)<<18|o>>>14;t[0]=i>>>0&255,t[1]=i>>>8&255,t[2]=i>>>16&255,t[3]=i>>>24&255,t[4]=f>>>0&255,t[5]=f>>>8&255,t[6]=f>>>16&255,t[7]=f>>>24&255,t[8]=y>>>0&255,t[9]=y>>>8&255,t[10]=y>>>16&255,t[11]=y>>>24&255,t[12]=b>>>0&255,t[13]=b>>>8&255,t[14]=b>>>16&255,t[15]=b>>>24&255,t[16]=l>>>0&255,t[17]=l>>>8&255,t[18]=l>>>16&255,t[19]=l>>>24&255,t[20]=h>>>0&255,t[21]=h>>>8&255,t[22]=h>>>16&255,t[23]=h>>>24&255,t[24]=d>>>0&255,t[25]=d>>>8&255,t[26]=d>>>16&255,t[27]=d>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,n,r)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function _(t,e,n,r,o,i,s){var a,c,u=new Uint8Array(16),f=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=i[c];for(;o>=64;){for(w(f,u,s,b),c=0;c<64;c++)t[e+c]=n[r+c]^f[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;o-=64,e+=64,r+=64}if(o>0)for(w(f,u,s,b),c=0;c<o;c++)t[e+c]=n[r+c]^f[c];return 0}function I(t,e,n,r,o){var i,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=r[s];for(;n>=64;){for(w(c,a,o,b),s=0;s<64;s++)t[e+s]=c[s];for(i=1,s=8;s<16;s++)i=i+(255&a[s])|0,a[s]=255&i,i>>>=8;n-=64,e+=64}if(n>0)for(w(c,a,o,b),s=0;s<n;s++)t[e+s]=c[s];return 0}function E(t,e,n,r,o){var i=new Uint8Array(32);m(i,r,o,b);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=r[a+16];return I(t,e,n,s,i)}function A(t,e,n,r,o,i,s){var a=new Uint8Array(32);m(a,i,s,b);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=i[u+16];return _(t,e,n,r,o,c,a)}var T=function(t){var e,n,r,o,i,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),o=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|o<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function S(t,e,n,r,o,i){var s=new T(i);return s.update(n,r,o),s.finish(t,e),0}function C(t,e,n,r,o,i){var s=new Uint8Array(16);return S(s,0,n,r,o,i),g(t,e,s,0)}function R(t,e,n,r,o){var i;if(n<32)return-1;for(A(t,0,e,0,n,r,o),S(t,16,t,32,n-32,t),i=0;i<16;i++)t[i]=0;return 0}function O(t,e,n,r,o){var i,s=new Uint8Array(32);if(n<32)return-1;if(E(s,0,32,r,o),0!==C(e,16,e,32,n-32,s))return-1;for(A(t,0,e,0,n,r,o),i=0;i<32;i++)t[i]=0;return 0}function k(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function U(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function D(t,e,n){for(var r,o=~(n-1),i=0;i<16;i++)r=o&(t[i]^e[i]),t[i]^=r,e[i]^=r}function L(t,n){var r,o,i,s=e(),a=e();for(r=0;r<16;r++)a[r]=n[r];for(U(a),U(a),U(a),o=0;o<2;o++){for(s[0]=a[0]-65517,r=1;r<15;r++)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,D(a,s,1-i)}for(r=0;r<16;r++)t[2*r]=255&a[r],t[2*r+1]=a[r]>>8}function x(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return L(n,t),L(r,e),v(n,0,r,0)}function B(t){var e=new Uint8Array(32);return L(e,t),1&e[0]}function M(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function N(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function P(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function F(t,e,n){var r,o,i=0,s=0,a=0,c=0,u=0,f=0,l=0,h=0,d=0,p=0,y=0,g=0,v=0,w=0,m=0,b=0,_=0,I=0,E=0,A=0,T=0,S=0,C=0,R=0,O=0,k=0,U=0,D=0,L=0,x=0,B=0,M=n[0],N=n[1],P=n[2],F=n[3],j=n[4],K=n[5],W=n[6],H=n[7],G=n[8],Y=n[9],$=n[10],q=n[11],z=n[12],J=n[13],V=n[14],X=n[15];i+=(r=e[0])*M,s+=r*N,a+=r*P,c+=r*F,u+=r*j,f+=r*K,l+=r*W,h+=r*H,d+=r*G,p+=r*Y,y+=r*$,g+=r*q,v+=r*z,w+=r*J,m+=r*V,b+=r*X,s+=(r=e[1])*M,a+=r*N,c+=r*P,u+=r*F,f+=r*j,l+=r*K,h+=r*W,d+=r*H,p+=r*G,y+=r*Y,g+=r*$,v+=r*q,w+=r*z,m+=r*J,b+=r*V,_+=r*X,a+=(r=e[2])*M,c+=r*N,u+=r*P,f+=r*F,l+=r*j,h+=r*K,d+=r*W,p+=r*H,y+=r*G,g+=r*Y,v+=r*$,w+=r*q,m+=r*z,b+=r*J,_+=r*V,I+=r*X,c+=(r=e[3])*M,u+=r*N,f+=r*P,l+=r*F,h+=r*j,d+=r*K,p+=r*W,y+=r*H,g+=r*G,v+=r*Y,w+=r*$,m+=r*q,b+=r*z,_+=r*J,I+=r*V,E+=r*X,u+=(r=e[4])*M,f+=r*N,l+=r*P,h+=r*F,d+=r*j,p+=r*K,y+=r*W,g+=r*H,v+=r*G,w+=r*Y,m+=r*$,b+=r*q,_+=r*z,I+=r*J,E+=r*V,A+=r*X,f+=(r=e[5])*M,l+=r*N,h+=r*P,d+=r*F,p+=r*j,y+=r*K,g+=r*W,v+=r*H,w+=r*G,m+=r*Y,b+=r*$,_+=r*q,I+=r*z,E+=r*J,A+=r*V,T+=r*X,l+=(r=e[6])*M,h+=r*N,d+=r*P,p+=r*F,y+=r*j,g+=r*K,v+=r*W,w+=r*H,m+=r*G,b+=r*Y,_+=r*$,I+=r*q,E+=r*z,A+=r*J,T+=r*V,S+=r*X,h+=(r=e[7])*M,d+=r*N,p+=r*P,y+=r*F,g+=r*j,v+=r*K,w+=r*W,m+=r*H,b+=r*G,_+=r*Y,I+=r*$,E+=r*q,A+=r*z,T+=r*J,S+=r*V,C+=r*X,d+=(r=e[8])*M,p+=r*N,y+=r*P,g+=r*F,v+=r*j,w+=r*K,m+=r*W,b+=r*H,_+=r*G,I+=r*Y,E+=r*$,A+=r*q,T+=r*z,S+=r*J,C+=r*V,R+=r*X,p+=(r=e[9])*M,y+=r*N,g+=r*P,v+=r*F,w+=r*j,m+=r*K,b+=r*W,_+=r*H,I+=r*G,E+=r*Y,A+=r*$,T+=r*q,S+=r*z,C+=r*J,R+=r*V,O+=r*X,y+=(r=e[10])*M,g+=r*N,v+=r*P,w+=r*F,m+=r*j,b+=r*K,_+=r*W,I+=r*H,E+=r*G,A+=r*Y,T+=r*$,S+=r*q,C+=r*z,R+=r*J,O+=r*V,k+=r*X,g+=(r=e[11])*M,v+=r*N,w+=r*P,m+=r*F,b+=r*j,_+=r*K,I+=r*W,E+=r*H,A+=r*G,T+=r*Y,S+=r*$,C+=r*q,R+=r*z,O+=r*J,k+=r*V,U+=r*X,v+=(r=e[12])*M,w+=r*N,m+=r*P,b+=r*F,_+=r*j,I+=r*K,E+=r*W,A+=r*H,T+=r*G,S+=r*Y,C+=r*$,R+=r*q,O+=r*z,k+=r*J,U+=r*V,D+=r*X,w+=(r=e[13])*M,m+=r*N,b+=r*P,_+=r*F,I+=r*j,E+=r*K,A+=r*W,T+=r*H,S+=r*G,C+=r*Y,R+=r*$,O+=r*q,k+=r*z,U+=r*J,D+=r*V,L+=r*X,m+=(r=e[14])*M,b+=r*N,_+=r*P,I+=r*F,E+=r*j,A+=r*K,T+=r*W,S+=r*H,C+=r*G,R+=r*Y,O+=r*$,k+=r*q,U+=r*z,D+=r*J,L+=r*V,x+=r*X,b+=(r=e[15])*M,s+=38*(I+=r*P),a+=38*(E+=r*F),c+=38*(A+=r*j),u+=38*(T+=r*K),f+=38*(S+=r*W),l+=38*(C+=r*H),h+=38*(R+=r*G),d+=38*(O+=r*Y),p+=38*(k+=r*$),y+=38*(U+=r*q),g+=38*(D+=r*z),v+=38*(L+=r*J),w+=38*(x+=r*V),m+=38*(B+=r*X),i=(r=(i+=38*(_+=r*N))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),v=(r=v+o+65535)-65536*(o=Math.floor(r/65536)),w=(r=w+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),i=(r=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),v=(r=v+o+65535)-65536*(o=Math.floor(r/65536)),w=(r=w+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),i+=o-1+37*(o-1),t[0]=i,t[1]=s,t[2]=a,t[3]=c,t[4]=u,t[5]=f,t[6]=l,t[7]=h,t[8]=d,t[9]=p,t[10]=y,t[11]=g,t[12]=v,t[13]=w,t[14]=m,t[15]=b}function j(t,e){F(t,e,e)}function K(t,n){var r,o=e();for(r=0;r<16;r++)o[r]=n[r];for(r=253;r>=0;r--)j(o,o),2!==r&&4!==r&&F(o,o,n);for(r=0;r<16;r++)t[r]=o[r]}function W(t,n){var r,o=e();for(r=0;r<16;r++)o[r]=n[r];for(r=250;r>=0;r--)j(o,o),1!==r&&F(o,o,n);for(r=0;r<16;r++)t[r]=o[r]}function H(t,n,r){var o,i,s=new Uint8Array(32),a=new Float64Array(80),u=e(),f=e(),l=e(),h=e(),d=e(),p=e();for(i=0;i<31;i++)s[i]=n[i];for(s[31]=127&n[31]|64,s[0]&=248,M(a,r),i=0;i<16;i++)f[i]=a[i],h[i]=u[i]=l[i]=0;for(u[0]=h[0]=1,i=254;i>=0;--i)D(u,f,o=s[i>>>3]>>>(7&i)&1),D(l,h,o),N(d,u,l),P(u,u,l),N(l,f,h),P(f,f,h),j(h,d),j(p,u),F(u,l,u),F(l,f,d),N(d,u,l),P(u,u,l),j(f,u),P(l,h,p),F(u,l,c),N(u,u,h),F(l,l,u),F(u,h,p),F(h,f,a),j(f,d),D(u,f,o),D(l,h,o);for(i=0;i<16;i++)a[i+16]=u[i],a[i+32]=l[i],a[i+48]=f[i],a[i+64]=h[i];var y=a.subarray(32),g=a.subarray(16);return K(y,y),F(g,g,y),L(t,g),0}function G(t,e){return H(t,e,i)}function Y(t,e){return r(e,32),G(t,e)}function $(t,e,n){var r=new Uint8Array(32);return H(r,n,e),m(t,o,r,b)}T.prototype.blocks=function(t,e,n){for(var r,o,i,s,a,c,u,f,l,h,d,p,y,g,v,w,m,b,_,I=this.fin?0:2048,E=this.h[0],A=this.h[1],T=this.h[2],S=this.h[3],C=this.h[4],R=this.h[5],O=this.h[6],k=this.h[7],U=this.h[8],D=this.h[9],L=this.r[0],x=this.r[1],B=this.r[2],M=this.r[3],N=this.r[4],P=this.r[5],F=this.r[6],j=this.r[7],K=this.r[8],W=this.r[9];n>=16;)h=l=0,h+=(E+=8191&(r=255&t[e+0]|(255&t[e+1])<<8))*L,h+=(A+=8191&(r>>>13|(o=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*W),h+=(T+=8191&(o>>>10|(i=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*K),h+=(S+=8191&(i>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*j),l=(h+=(C+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*F))>>>13,h&=8191,h+=(R+=a>>>1&8191)*(5*P),h+=(O+=8191&(a>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*N),h+=(k+=8191&(c>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*M),h+=(U+=8191&(u>>>8|(f=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*B),d=l+=(h+=(D+=f>>>5|I)*(5*x))>>>13,d+=E*x,d+=A*L,d+=T*(5*W),d+=S*(5*K),l=(d+=C*(5*j))>>>13,d&=8191,d+=R*(5*F),d+=O*(5*P),d+=k*(5*N),d+=U*(5*M),l+=(d+=D*(5*B))>>>13,d&=8191,p=l,p+=E*B,p+=A*x,p+=T*L,p+=S*(5*W),l=(p+=C*(5*K))>>>13,p&=8191,p+=R*(5*j),p+=O*(5*F),p+=k*(5*P),p+=U*(5*N),y=l+=(p+=D*(5*M))>>>13,y+=E*M,y+=A*B,y+=T*x,y+=S*L,l=(y+=C*(5*W))>>>13,y&=8191,y+=R*(5*K),y+=O*(5*j),y+=k*(5*F),y+=U*(5*P),g=l+=(y+=D*(5*N))>>>13,g+=E*N,g+=A*M,g+=T*B,g+=S*x,l=(g+=C*L)>>>13,g&=8191,g+=R*(5*W),g+=O*(5*K),g+=k*(5*j),g+=U*(5*F),v=l+=(g+=D*(5*P))>>>13,v+=E*P,v+=A*N,v+=T*M,v+=S*B,l=(v+=C*x)>>>13,v&=8191,v+=R*L,v+=O*(5*W),v+=k*(5*K),v+=U*(5*j),w=l+=(v+=D*(5*F))>>>13,w+=E*F,w+=A*P,w+=T*N,w+=S*M,l=(w+=C*B)>>>13,w&=8191,w+=R*x,w+=O*L,w+=k*(5*W),w+=U*(5*K),m=l+=(w+=D*(5*j))>>>13,m+=E*j,m+=A*F,m+=T*P,m+=S*N,l=(m+=C*M)>>>13,m&=8191,m+=R*B,m+=O*x,m+=k*L,m+=U*(5*W),b=l+=(m+=D*(5*K))>>>13,b+=E*K,b+=A*j,b+=T*F,b+=S*P,l=(b+=C*N)>>>13,b&=8191,b+=R*M,b+=O*B,b+=k*x,b+=U*L,_=l+=(b+=D*(5*W))>>>13,_+=E*W,_+=A*K,_+=T*j,_+=S*F,l=(_+=C*P)>>>13,_&=8191,_+=R*N,_+=O*M,_+=k*B,_+=U*x,E=h=8191&(l=(l=((l+=(_+=D*L)>>>13)<<2)+l|0)+(h&=8191)|0),A=d+=l>>>=13,T=p&=8191,S=y&=8191,C=g&=8191,R=v&=8191,O=w&=8191,k=m&=8191,U=b&=8191,D=_&=8191,e+=16,n-=16;this.h[0]=E,this.h[1]=A,this.h[2]=T,this.h[3]=S,this.h[4]=C,this.h[5]=R,this.h[6]=O,this.h[7]=k,this.h[8]=U,this.h[9]=D},T.prototype.finish=function(t,e){var n,r,o,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+n,n=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,r=(1^n)-1,i=0;i<10;i++)s[i]&=r;for(r=~r,i=0;i<10;i++)this.h[i]=this.h[i]&r|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},T.prototype.update=function(t,e,n){var r,o;if(this.leftover){for((o=16-this.leftover)>n&&(o=n),r=0;r<o;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=o,e+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(t,e,o),e+=o,n-=o),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var q=R,z=O,J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function V(t,e,n,r){for(var o,i,s,a,c,u,f,l,h,d,p,y,g,v,w,m,b,_,I,E,A,T,S,C,R,O,k=new Int32Array(16),U=new Int32Array(16),D=t[0],L=t[1],x=t[2],B=t[3],M=t[4],N=t[5],P=t[6],F=t[7],j=e[0],K=e[1],W=e[2],H=e[3],G=e[4],Y=e[5],$=e[6],q=e[7],z=0;r>=128;){for(I=0;I<16;I++)E=8*I+z,k[I]=n[E+0]<<24|n[E+1]<<16|n[E+2]<<8|n[E+3],U[I]=n[E+4]<<24|n[E+5]<<16|n[E+6]<<8|n[E+7];for(I=0;I<80;I++)if(o=D,i=L,s=x,a=B,c=M,u=N,f=P,h=j,d=K,p=W,y=H,g=G,v=Y,w=$,S=65535&(T=q),C=T>>>16,R=65535&(A=F),O=A>>>16,S+=65535&(T=(G>>>14|M<<18)^(G>>>18|M<<14)^(M>>>9|G<<23)),C+=T>>>16,R+=65535&(A=(M>>>14|G<<18)^(M>>>18|G<<14)^(G>>>9|M<<23)),O+=A>>>16,S+=65535&(T=G&Y^~G&$),C+=T>>>16,R+=65535&(A=M&N^~M&P),O+=A>>>16,S+=65535&(T=J[2*I+1]),C+=T>>>16,R+=65535&(A=J[2*I]),O+=A>>>16,A=k[I%16],C+=(T=U[I%16])>>>16,R+=65535&A,O+=A>>>16,R+=(C+=(S+=65535&T)>>>16)>>>16,S=65535&(T=_=65535&S|C<<16),C=T>>>16,R=65535&(A=b=65535&R|(O+=R>>>16)<<16),O=A>>>16,S+=65535&(T=(j>>>28|D<<4)^(D>>>2|j<<30)^(D>>>7|j<<25)),C+=T>>>16,R+=65535&(A=(D>>>28|j<<4)^(j>>>2|D<<30)^(j>>>7|D<<25)),O+=A>>>16,C+=(T=j&K^j&W^K&W)>>>16,R+=65535&(A=D&L^D&x^L&x),O+=A>>>16,l=65535&(R+=(C+=(S+=65535&T)>>>16)>>>16)|(O+=R>>>16)<<16,m=65535&S|C<<16,S=65535&(T=y),C=T>>>16,R=65535&(A=a),O=A>>>16,C+=(T=_)>>>16,R+=65535&(A=b),O+=A>>>16,L=o,x=i,B=s,M=a=65535&(R+=(C+=(S+=65535&T)>>>16)>>>16)|(O+=R>>>16)<<16,N=c,P=u,F=f,D=l,K=h,W=d,H=p,G=y=65535&S|C<<16,Y=g,$=v,q=w,j=m,I%16==15)for(E=0;E<16;E++)A=k[E],S=65535&(T=U[E]),C=T>>>16,R=65535&A,O=A>>>16,A=k[(E+9)%16],S+=65535&(T=U[(E+9)%16]),C+=T>>>16,R+=65535&A,O+=A>>>16,b=k[(E+1)%16],S+=65535&(T=((_=U[(E+1)%16])>>>1|b<<31)^(_>>>8|b<<24)^(_>>>7|b<<25)),C+=T>>>16,R+=65535&(A=(b>>>1|_<<31)^(b>>>8|_<<24)^b>>>7),O+=A>>>16,b=k[(E+14)%16],C+=(T=((_=U[(E+14)%16])>>>19|b<<13)^(b>>>29|_<<3)^(_>>>6|b<<26))>>>16,R+=65535&(A=(b>>>19|_<<13)^(_>>>29|b<<3)^b>>>6),O+=A>>>16,O+=(R+=(C+=(S+=65535&T)>>>16)>>>16)>>>16,k[E]=65535&R|O<<16,U[E]=65535&S|C<<16;S=65535&(T=j),C=T>>>16,R=65535&(A=D),O=A>>>16,A=t[0],C+=(T=e[0])>>>16,R+=65535&A,O+=A>>>16,O+=(R+=(C+=(S+=65535&T)>>>16)>>>16)>>>16,t[0]=D=65535&R|O<<16,e[0]=j=65535&S|C<<16,S=65535&(T=K),C=T>>>16,R=65535&(A=L),O=A>>>16,A=t[1],C+=(T=e[1])>>>16,R+=65535&A,O+=A>>>16,O+=(R+=(C+=(S+=65535&T)>>>16)>>>16)>>>16,t[1]=L=65535&R|O<<16,e[1]=K=65535&S|C<<16,S=65535&(T=W),C=T>>>16,R=65535&(A=x),O=A>>>16,A=t[2],C+=(T=e[2])>>>16,R+=65535&A,O+=A>>>16,O+=(R+=(C+=(S+=65535&T)>>>16)>>>16)>>>16,t[2]=x=65535&R|O<<16,e[2]=W=65535&S|C<<16,S=65535&(T=H),C=T>>>16,R=65535&(A=B),O=A>>>16,A=t[3],C+=(T=e[3])>>>16,R+=65535&A,O+=A>>>16,O+=(R+=(C+=(S+=65535&T)>>>16)>>>16)>>>16,t[3]=B=65535&R|O<<16,e[3]=H=65535&S|C<<16,S=65535&(T=G),C=T>>>16,R=65535&(A=M),O=A>>>16,A=t[4],C+=(T=e[4])>>>16,R+=65535&A,O+=A>>>16,O+=(R+=(C+=(S+=65535&T)>>>16)>>>16)>>>16,t[4]=M=65535&R|O<<16,e[4]=G=65535&S|C<<16,S=65535&(T=Y),C=T>>>16,R=65535&(A=N),O=A>>>16,A=t[5],C+=(T=e[5])>>>16,R+=65535&A,O+=A>>>16,O+=(R+=(C+=(S+=65535&T)>>>16)>>>16)>>>16,t[5]=N=65535&R|O<<16,e[5]=Y=65535&S|C<<16,S=65535&(T=$),C=T>>>16,R=65535&(A=P),O=A>>>16,A=t[6],C+=(T=e[6])>>>16,R+=65535&A,O+=A>>>16,O+=(R+=(C+=(S+=65535&T)>>>16)>>>16)>>>16,t[6]=P=65535&R|O<<16,e[6]=$=65535&S|C<<16,S=65535&(T=q),C=T>>>16,R=65535&(A=F),O=A>>>16,A=t[7],C+=(T=e[7])>>>16,R+=65535&A,O+=A>>>16,O+=(R+=(C+=(S+=65535&T)>>>16)>>>16)>>>16,t[7]=F=65535&R|O<<16,e[7]=q=65535&S|C<<16,z+=128,r-=128}return r}function X(t,e,n){var r,o=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),a=n;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,V(o,i,e,n),n%=128,r=0;r<n;r++)s[r]=e[a-n+r];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,p(s,n-8,a/536870912|0,a<<3),V(o,i,s,n),r=0;r<8;r++)p(t,8*r,o[r],i[r]);return 0}function Z(t,n){var r=e(),o=e(),i=e(),s=e(),a=e(),c=e(),u=e(),l=e(),h=e();P(r,t[1],t[0]),P(h,n[1],n[0]),F(r,r,h),N(o,t[0],t[1]),N(h,n[0],n[1]),F(o,o,h),F(i,t[3],n[3]),F(i,i,f),F(s,t[2],n[2]),N(s,s,s),P(a,o,r),P(c,s,i),N(u,s,i),N(l,o,r),F(t[0],a,c),F(t[1],l,u),F(t[2],u,c),F(t[3],a,l)}function Q(t,e,n){var r;for(r=0;r<4;r++)D(t[r],e[r],n)}function tt(t,n){var r=e(),o=e(),i=e();K(i,n[2]),F(r,n[0],i),F(o,n[1],i),L(t,o),t[31]^=B(r)<<7}function et(t,e,n){var r,o;for(k(t[0],s),k(t[1],a),k(t[2],a),k(t[3],s),o=255;o>=0;--o)Q(t,e,r=n[o/8|0]>>(7&o)&1),Z(e,t),Z(t,t),Q(t,e,r)}function nt(t,n){var r=[e(),e(),e(),e()];k(r[0],l),k(r[1],h),k(r[2],a),F(r[3],l,h),et(t,r,n)}function rt(t,n,o){var i,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(o||r(n,32),X(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,nt(a,s),tt(t,a),i=0;i<32;i++)n[i+32]=t[i];return 0}var ot=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function it(t,e){var n,r,o,i;for(r=63;r>=32;--r){for(n=0,o=r-32,i=r-12;o<i;++o)e[o]+=n-16*e[r]*ot[o-(r-32)],n=Math.floor((e[o]+128)/256),e[o]-=256*n;e[o]+=n,e[r]=0}for(n=0,o=0;o<32;o++)e[o]+=n-(e[31]>>4)*ot[o],n=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=n*ot[o];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function st(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;it(t,n)}function at(t,n,r,o){var i,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),f=new Float64Array(64),l=[e(),e(),e(),e()];X(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=r+64;for(i=0;i<r;i++)t[64+i]=n[i];for(i=0;i<32;i++)t[32+i]=a[32+i];for(X(u,t.subarray(32),r+32),st(u),nt(l,u),tt(t,l),i=32;i<64;i++)t[i]=o[i];for(X(c,t,r+64),st(c),i=0;i<64;i++)f[i]=0;for(i=0;i<32;i++)f[i]=u[i];for(i=0;i<32;i++)for(s=0;s<32;s++)f[i+s]+=c[i]*a[s];return it(t.subarray(32),f),h}function ct(t,n,r,o){var i,c=new Uint8Array(32),f=new Uint8Array(64),l=[e(),e(),e(),e()],h=[e(),e(),e(),e()];if(r<64)return-1;if(function(t,n){var r=e(),o=e(),i=e(),c=e(),f=e(),l=e(),h=e();return k(t[2],a),M(t[1],n),j(i,t[1]),F(c,i,u),P(i,i,t[2]),N(c,t[2],c),j(f,c),j(l,f),F(h,l,f),F(r,h,i),F(r,r,c),W(r,r),F(r,r,i),F(r,r,c),F(r,r,c),F(t[0],r,c),j(o,t[0]),F(o,o,c),x(o,i)&&F(t[0],t[0],d),j(o,t[0]),F(o,o,c),x(o,i)?-1:(B(t[0])===n[31]>>7&&P(t[0],s,t[0]),F(t[3],t[0],t[1]),0)}(h,o))return-1;for(i=0;i<r;i++)t[i]=n[i];for(i=0;i<32;i++)t[i+32]=o[i];if(X(f,t,r),st(f),et(l,h,f),nt(h,n.subarray(32)),Z(l,h),tt(c,l),r-=64,v(n,0,c,0)){for(i=0;i<r;i++)t[i]=0;return-1}for(i=0;i<r;i++)t[i]=n[i+64];return r}var ut,ft=64,lt=32,ht=64;function dt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function pt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function yt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:A,crypto_stream:E,crypto_stream_salsa20_xor:_,crypto_stream_salsa20:I,crypto_onetimeauth:S,crypto_onetimeauth_verify:C,crypto_verify_16:g,crypto_verify_32:v,crypto_secretbox:R,crypto_secretbox_open:O,crypto_scalarmult:H,crypto_scalarmult_base:G,crypto_box_beforenm:$,crypto_box_afternm:q,crypto_box:function(t,e,n,r,o,i){var s=new Uint8Array(32);return $(s,o,i),q(t,e,n,r,s)},crypto_box_open:function(t,e,n,r,o,i){var s=new Uint8Array(32);return $(s,o,i),z(t,e,n,r,s)},crypto_box_keypair:Y,crypto_hash:X,crypto_sign:at,crypto_sign_keypair:rt,crypto_sign_open:ct,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ft,crypto_sign_PUBLICKEYBYTES:lt,crypto_sign_SECRETKEYBYTES:ht,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:u,L:ot,pack25519:L,unpack25519:M,M:F,A:N,S:j,Z:P,pow2523:W,add:Z,set25519:k,modL:it,scalarmult:et,scalarbase:nt},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,n){pt(t,e,n),dt(n,e);for(var r=new Uint8Array(32+t.length),o=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+32]=t[i];return R(o,r,r.length,e,n),o.subarray(16)},t.secretbox.open=function(t,e,n){pt(t,e,n),dt(n,e);for(var r=new Uint8Array(16+t.length),o=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+16]=t[i];return r.length<32||0!==O(o,r,r.length,e,n)?null:o.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(pt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var n=new Uint8Array(32);return H(n,t,e),n},t.scalarMult.base=function(t){if(pt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return G(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,n,r,o){var i=t.box.before(r,o);return t.secretbox(e,n,i)},t.box.before=function(t,e){pt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return $(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,o){var i=t.box.before(r,o);return t.secretbox.open(e,n,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return Y(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(pt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return G(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(pt(t,e),e.length!==ht)throw new Error("bad secret key size");var n=new Uint8Array(ft+t.length);return at(n,t,t.length,e),n},t.sign.open=function(t,e){if(pt(t,e),e.length!==lt)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=ct(n,t,t.length,e);if(r<0)return null;for(var o=new Uint8Array(r),i=0;i<o.length;i++)o[i]=n[i];return o},t.sign.detached=function(e,n){for(var r=t.sign(e,n),o=new Uint8Array(ft),i=0;i<o.length;i++)o[i]=r[i];return o},t.sign.detached.verify=function(t,e,n){if(pt(t,e,n),e.length!==ft)throw new Error("bad signature size");if(n.length!==lt)throw new Error("bad public key size");var r,o=new Uint8Array(ft+t.length),i=new Uint8Array(ft+t.length);for(r=0;r<ft;r++)o[r]=e[r];for(r=0;r<t.length;r++)o[r+ft]=t[r];return ct(i,o,o.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(lt),e=new Uint8Array(ht);return rt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(pt(t),t.length!==ht)throw new Error("bad secret key size");for(var e=new Uint8Array(lt),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(pt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(lt),n=new Uint8Array(ht),r=0;r<32;r++)n[r]=t[r];return rt(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=lt,t.sign.secretKeyLength=ht,t.sign.seedLength=32,t.sign.signatureLength=ft,t.hash=function(t){pt(t);var e=new Uint8Array(64);return X(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return pt(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===y(t,0,e,0,t.length)},t.setPRNG=function(t){r=t},(ut="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&ut.getRandomValues?t.setPRNG((function(t,e){var n,r=new Uint8Array(e);for(n=0;n<e;n+=65536)ut.getRandomValues(r.subarray(n,n+Math.min(e-n,65536)));for(n=0;n<e;n++)t[n]=r[n];yt(r)})):(ut=n(5024))&&ut.randomBytes&&t.setPRNG((function(t,e){var n,r=ut.randomBytes(e);for(n=0;n<e;n++)t[n]=r[n];yt(r)}))}(t.exports?t.exports:self.nacl=self.nacl||{})},4322:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Modal:()=>o,default:()=>i});const r=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];class o{constructor({targetModal:t,triggers:e=[],onShow:n=(()=>{}),onClose:r=(()=>{}),openTrigger:o="data-micromodal-trigger",closeTrigger:i="data-micromodal-close",openClass:s="is-open",disableScroll:a=!1,disableFocus:c=!1,awaitCloseAnimation:u=!1,awaitOpenAnimation:f=!1,debugMode:l=!1}){this.modal=document.getElementById(t),this.config={debugMode:l,disableScroll:a,openTrigger:o,closeTrigger:i,openClass:s,onShow:n,onClose:r,awaitCloseAnimation:u,awaitOpenAnimation:f,disableFocus:c},e.length>0&&this.registerTriggers(...e),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}registerTriggers(...t){t.filter(Boolean).forEach((t=>{t.addEventListener("click",(t=>this.showModal(t)))}))}showModal(t=null){if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){const t=()=>{this.modal.removeEventListener("animationend",t,!1),this.setFocusToFirstNode()};this.modal.addEventListener("animationend",t,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}closeModal(t=null){const e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){let t=this.config.openClass;this.modal.addEventListener("animationend",(function n(){e.classList.remove(t),e.removeEventListener("animationend",n,!1)}),!1)}else e.classList.remove(this.config.openClass)}closeModalById(t){this.modal=document.getElementById(t),this.modal&&this.closeModal()}scrollBehaviour(t){if(!this.config.disableScroll)return;const e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}addEventListeners(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}removeEventListeners(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}onClick(t){t.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(t)}onKeydown(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}getFocusableNodes(){const t=this.modal.querySelectorAll(r);return Array(...t)}setFocusToFirstNode(){if(this.config.disableFocus)return;const t=this.getFocusableNodes();if(0===t.length)return;const e=t.filter((t=>!t.hasAttribute(this.config.closeTrigger)));e.length>0&&e[0].focus(),0===e.length&&t[0].focus()}retainFocus(t){let e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter((t=>null!==t.offsetParent)),this.modal.contains(document.activeElement)){const n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&n===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}const i=(()=>{let t=null;const e=t=>{if(!document.getElementById(t))return console.warn(`MicroModal: Seems like you have missed %c'${t}'`,"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",`<div class="modal" id="${t}"></div>`),!1};return{init:n=>{const r=Object.assign({},{openTrigger:"data-micromodal-trigger"},n),i=[...document.querySelectorAll(`[${r.openTrigger}]`)],s=((t,e)=>{const n=[];return t.forEach((t=>{const r=t.attributes[e].value;void 0===n[r]&&(n[r]=[]),n[r].push(t)})),n})(i,r.openTrigger);if(!0!==r.debugMode||!1!==((t,n)=>{if((t=>{t.length<=0&&(console.warn("MicroModal: Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))})(t),!n)return!0;for(var r in n)e(r);return!0})(i,s))for(var a in s){let e=s[a];r.targetModal=a,r.triggers=[...e],t=new o(r)}},show:(n,r)=>{const i=r||{};return i.targetModal=n,!0===i.debugMode&&!1===e(n)?null:(t&&t.removeEventListeners(),t=new o(i),t.showModal(),t)},close:e=>{e?t.closeModalById(e):t.closeModal()}}})()},5024:()=>{}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(9498)})()}));
//# sourceMappingURL=cotter.min.js.map